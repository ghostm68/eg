
<!DOCTYPE html><html><head>
  <base href="https://wordstar.nexus/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 
<title>WordStar Seven </title>
  	<style>
	/* width */
::-webkit-scrollbar {
  width: 20px;
}

/* Track */
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 5px tan; 
  border-radius: 10px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: blue; 
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #efd0f5; 
}
</style>
<style>
  body, html {
    margin: 0;
    padding: 0;
    font-family: 'Courier New', monospace;
    background-color: #000000;
    color: #cccccc;
    height: 100vh;
    display: flex;
    flex-direction: column;
  }
  #editor {
    flex-grow: 1;
    background-color: #0a0a0a;
    padding: 20px;
    font-size: 18px;
    line-height: 1.5;
    white-space: pre-wrap;
    overflow-y: auto;
    border: 1px solid #333333;
  }
  #menu-bar {
    background-color: #1a1a1a;
    padding: 5px;
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid #333333;
  }
  .menu-item {
    margin: 0 10px;
    cursor: pointer;
  }
  .shortcut {
    color: #ff0000;
  }
#footer {
    background-color: #1a1a1a;
    padding: 5px;
    display: flex;
    justify-content: space-around;
    border-top: 1px solid #333333;
  }
  .tab {
    cursor: pointer;
    padding: 5px 10px;
    background-color: #0a0a0a;
    border-top: 1px solid #333333;
    border-left: 1px solid #333333;
    border-right: 1px solid #333333;
  }
  .tab:hover {
    background-color: #2a2a2a;
  }
  @keyframes blink {
    0% { opacity: 0; }
    50% { opacity: 1; }
    100% { opacity: 0; }
  }
  #editor::after {
    content: '|';
    animation: blink 1s infinite;
    color: #ff0000;
  }
</style>
</head>
<body>
  <div id="menu-bar">
    <div class="menu-item"><span class="shortcut">^K</span> Block</div>
    <div class="menu-item"><span class="shortcut">^O</span> Onscreen</div>
    <div class="menu-item"><span class="shortcut">^Q</span> Quick</div>
    <div class="menu-item"><span class="shortcut">^P</span> Print</div>
    <div class="menu-item"><span class="shortcut">^C</span> Cursor</div>
    <div class="menu-item"><span class="shortcut">^R</span> Reform</div>
    <div class="menu-item"><span class="shortcut">^I</span> Insert</div>
    <div class="menu-item"><span class="shortcut">^D</span> Delete</div>
  </div>

  <div id="editor" contenteditable="true">
Welcome to WordStar Seven Revival!

This is your writing space. Enjoy the nostalgic feel of classic word processing with modern web technologies.

Use the menu bar above for quick access to common functions, and explore additional features in the tabs below.

[Cursor blinking here]
</div>

  <div id="footer">
  <div class="tab">File</div>
  <div class="tab">Edit</div>
  <div class="tab">Format</div>
  <div class="tab">View</div>
  <div class="tab">Macro</div>
  <div class="tab">Spell</div>
  <div class="tab">Math</div>
  <div class="tab">Help</div>
  <div class="tab">Tools</div>
  <div class="tab">Window</div>
  <div class="status-bar">
    <span id="cursor-position">Line: 1 Col: 1</span>
    <span id="word-count">Words: 0</span>
    <span id="insert-mode">INSERT</span>
    <span id="file-name">Untitled</span>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
  const menuItems = document.querySelectorAll('.menu-item');
  const tabs = document.querySelectorAll('.tab');
  const editor = document.getElementById('editor');

  menuItems.forEach(item => {
    item.addEventListener('click', function() {
      const command = this.textContent.split(' ')[1].toLowerCase();
      handleCommand(command);
    });
  });

  tabs.forEach(tab => {
    tab.addEventListener('click', function() {
      const menuName = this.textContent.toLowerCase();
      showMenu(menuName);
    });
  });

  editor.addEventListener('keydown', function(e) {
    if (e.ctrlKey) {
      const key = e.key.toUpperCase();
      const menuItem = Array.from(menuItems).find(item => item.textContent.includes(`^${key}`));
      if (menuItem) {
        e.preventDefault();
        const command = menuItem.textContent.split(' ')[1].toLowerCase();
        handleCommand(command);
      }
    }
  });

  function handleCommand(command) {
    switch(command) {
      case 'block':
        blockOperations();
        break;
      case 'onscreen':
        onscreenFormatting();
        break;
      case 'quick':
        quickCommands();
        break;
      case 'print':
        printOptions();
        break;
      case 'cursor':
        cursorMovement();
        break;
      case 'reform':
        reformParagraph();
        break;
      case 'insert':
        toggleInsertMode();
        break;
      case 'delete':
        deleteOptions();
        break;
      default:
        alert(`${command} command activated`);
    }
  }

  function showMenu(menuName) {
    let menuItems;
    switch(menuName) {
      case 'file':
        menuItems = [
          {name: 'New', action: newDocument},
          {name: 'Open', action: openDocument},
          {name: 'Save', action: saveDocument},
          {name: 'Save As', action: saveAsDocument},
          {name: 'Print', action: printDocument},
          {name: 'Exit', action: exitApplication}
        ];
        break;
      case 'edit':
        menuItems = [
          {name: 'Cut', action: cutText},
          {name: 'Copy', action: copyText},
          {name: 'Paste', action: pasteText},
          {name: 'Find', action: findText},
          {name: 'Replace', action: replaceText}
        ];
        break;
      case 'format':
        menuItems = [
          {name: 'Font', action: changeFont},
          {name: 'Paragraph', action: formatParagraph},
          {name: 'Tabs', action: setTabs},
          {name: 'Page Layout', action: changePageLayout}
        ];
        break;
      case 'view':
        menuItems = [
          {name: 'Normal', action: () => changeView('normal')},
          {name: 'Page Layout', action: () => changeView('page')},
          {name: 'Ruler', action: toggleRuler},
          {name: 'Status Bar', action: toggleStatusBar}
        ];
        break;
      case 'macro':
        menuItems = [
          {name: 'Record Macro', action: recordMacro},
          {name: 'Run Macro', action: runMacro},
          {name: 'Edit Macros', action: editMacros}
        ];
        break;
      case 'spell':
        menuItems = [
          {name: 'Check Spelling', action: checkSpelling},
          {name: 'Auto-Correct', action: toggleAutoCorrect},
          {name: 'Thesaurus', action: openThesaurus}
        ];
        break;
      case 'math':
        menuItems = [
          {name: 'Calculate', action: calculateExpression},
          {name: 'Insert Formula', action: insertFormula},
          {name: 'Graph', action: createGraph}
        ];
        break;
      case 'help':
        menuItems = [
          {name: 'Contents', action: showHelpContents},
          {name: 'Search', action: searchHelp},
          {name: 'About', action: showAbout}
        ];
        break;
      default:
        menuItems = [{name: 'No items available', action: () => {}}];
    }
    
    const menuHTML = `
      <div class="dropdown-menu" style="position: absolute; background-color: #1a1a1a; border: 1px solid #333333; z-index: 1000;">
        ${menuItems.map(item => `<div class="menu-item" style="padding: 5px 10px; cursor: pointer;">${item.name}</div>`).join('')}
      </div>
    `;
    
    const existingMenu = document.querySelector('.dropdown-menu');
    if (existingMenu) {
      existingMenu.remove();
    }
    
    const tab = document.querySelector(`.tab:nth-child(${Array.from(tabs).findIndex(t => t.textContent.toLowerCase() === menuName) + 1})`);
    tab.insertAdjacentHTML('afterend', menuHTML);
    
    const dropdownMenu = document.querySelector('.dropdown-menu');
    dropdownMenu.style.left = `${tab.offsetLeft}px`;
    dropdownMenu.style.top = `${tab.offsetTop + tab.offsetHeight}px`;
    
    dropdownMenu.querySelectorAll('.menu-item').forEach((item, index) => {
      item.addEventListener('click', function() {
        menuItems[index].action();
        dropdownMenu.remove();
      });
    });
    
    document.addEventListener('click', function closeMenu(e) {
      if (!e.target.closest('.dropdown-menu') && !e.target.closest('.tab')) {
        dropdownMenu.remove();
        document.removeEventListener('click', closeMenu);
      }
    });
  }
  function blockOperations() {
    const selection = window.getSelection();
    if (selection.toString().length > 0) {
      const options = ['Copy', 'Move', 'Delete'];
      const choice = prompt(`Block operations:\n${options.join('\n')}\nEnter your choice:`);
      switch (choice.toLowerCase()) {
        case 'copy':
          document.execCommand('copy');
          break;
        case 'move':
          document.execCommand('cut');
          // Prompt user to place cursor where they want to move the text
          alert('Place your cursor where you want to move the text, then press Ctrl+V to paste.');
          break;
        case 'delete':
          document.execCommand('delete');
          break;
        default:
          alert('Invalid choice');
      }
    } else {
      alert('Please select some text first');
    }
  }

  function onscreenFormatting() {
    const options = ['Bold', 'Italic', 'Underline'];
    const choice = prompt(`Onscreen formatting options:\n${options.join('\n')}\nEnter your choice:`);
    switch (choice.toLowerCase()) {
      case 'bold':
        document.execCommand('bold');
        break;
      case 'italic':
        document.execCommand('italic');
        break;
      case 'underline':
        document.execCommand('underline');
        break;
      default:
        alert('Invalid choice');
    }
  }

  function quickCommands() {
    const commands = ['Save', 'Print', 'Exit'];
    const choice = prompt(`Quick commands:\n${commands.join('\n')}\nEnter your choice:`);
    switch (choice.toLowerCase()) {
      case 'save':
        saveDocument();
        break;
      case 'print':
        printDocument();
        break;
      case 'exit':
        exitApplication();
        break;
      default:
        alert('Invalid choice');
    }
  }

  function printOptions() {
    const options = ['Print', 'Print Preview', 'Page Setup'];
    const choice = prompt(`Print options:\n${options.join('\n')}\nEnter your choice:`);
    switch (choice.toLowerCase()) {
      case 'print':
        printDocument();
        break;
      case 'print preview':
        // You could potentially use a library like jsPDF to generate a preview
        alert('Print Preview: This feature is not fully implemented in this web version.');
        break;
      case 'page setup':
        alert('Page Setup: This feature is not implemented in this web version.');
        break;
      default:
        alert('Invalid choice');
    }
  }

  function cursorMovement() {
    const selection = window.getSelection();
    const range = selection.getRangeAt(0);
    const options = ['Left', 'Right', 'Up', 'Down', 'Start of Line', 'End of Line'];
    const choice = prompt(`Cursor movement options:\n${options.join('\n')}\nEnter your choice:`);
    switch (choice.toLowerCase()) {
      case 'left':
        range.setStart(range.startContainer, Math.max(range.startOffset - 1, 0));
        range.collapse(true);
        selection.removeAllRanges();
        selection.addRange(range);
        break;
      case 'right':
        range.setStart(range.startContainer, Math.min(range.startOffset + 1, range.endOffset));
        range.collapse(true);
        selection.removeAllRanges();
        selection.addRange(range);
        break;
      case 'up':
        document.execCommand('moveUp');
        break;
      case 'down':
        document.execCommand('moveDown');
        break;
      case 'start of line':
        document.execCommand('home');
        break;
      case 'end of line':
        document.execCommand('end');
        break;
      default:
        alert('Invalid choice');
    }
  }

  function reformParagraph() {
    // This is complex. You could potentially use CSS to adjust line breaks and spacing.
    alert('Paragraph reformatting: This feature would typically adjust line breaks and spacing. It\'s not fully implemented in this web version.');
  }

  let insertMode = true;
  function toggleInsertMode() {
    insertMode = !insertMode;
    alert(`Insert mode ${insertMode ? 'enabled' : 'disabled'}`);
    editor.style.cursor = insertMode ? 'text' : 'default';
  }

  function deleteOptions() {
    const options = ['Character', 'Word', 'Line', 'Paragraph'];
    const choice = prompt(`Delete options:\n${options.join('\n')}\nEnter your choice:`);
    switch (choice.toLowerCase()) {
      case 'character':
        document.execCommand('delete');
        break;
      case 'word':
        document.execCommand('delete');
        document.execCommand('delete');
        break;
      case 'line':
        document.execCommand('deleteLine');
        break;
      case 'paragraph':
        document.execCommand('delete');
        break;
      default:
        alert('Invalid choice');
    }
  }

  // Menu functions
  function newDocument() {
    if (confirm('Create a new document? Unsaved changes will be lost.')) {
      editor.innerHTML = '';
    }
  }

  function openDocument() {
    // Use a file input element to allow the user to select a file
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = '.txt'; // Limit to text files for simplicity

    input.addEventListener('change', (event) => {
      const file = event.target.files[0];
      const reader = new FileReader();

      reader.onload = (e) => {
        editor.innerHTML = e.target.result;
      };
      reader.readAsText(file);
    });

    input.click(); // Trigger the file selection dialog
  }

  function saveDocument() {
    // Use a download link to trigger a file download
    const blob = new Blob([editor.innerHTML], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);

    const link = document.createElement('a');
    link.href = url;
    link.download = 'document.txt';
    link.click();
    URL.revokeObjectURL(url);
  }

  function saveAsDocument() {
    // Similar to saveDocument, but allow the user to choose a filename
    // (You'll need to add UI for filename input)
  }

  function printDocument() {
    window.print();
  }

  function exitApplication() {
    if (confirm('Exit WordStar? Unsaved changes will be lost.')) {
      window.close();
    }
  }

  function cutText() {
    document.execCommand('cut');
  }

  function copyText() {
    document.execCommand('copy');
  }

  function pasteText() {
    document.execCommand('paste');
  }

  function findText() {
    const searchTerm = prompt('Enter text to find:');
    if (searchTerm) {
      window.find(searchTerm);
    }
  }

  function replaceText() {
    const searchTerm = prompt('Enter text to find:');
    const replaceTerm = prompt('Enter text to replace with:');
    if (searchTerm && replaceTerm) {
      editor.innerHTML = editor.innerHTML.replace(new RegExp(searchTerm, 'g'), replaceTerm);
    }
  }

  function changeFont() {
    const font = prompt('Enter font name:');
    if (font) {
      document.execCommand('fontName', false, font);
    }
  }

  function formatParagraph() {
    // Provide basic paragraph formatting options (bold, italics, alignment)
    // using HTML tags or CSS classes.
  }

  function setTabs() {
    // This is complex, but you could potentially use CSS grid or flexbox
    // to simulate tab stops.
  }

  function changePageLayout() {
    // Very challenging to replicate accurately in a browser.
  }

  function changeView(viewType) {
    // Simulate different views by adjusting CSS styles.
  }

  function toggleRuler() {
    // Create a visual ruler element.
  }

  function toggleStatusBar() {
    // Create a status bar element.
  }

  function recordMacro() {
    // This would require a scripting language and execution environment.
  }

  function runMacro() {
    // This would require a scripting language and execution environment.
  }

  function editMacros() {
    // This would require a scripting language and execution environment.
  }

  function checkSpelling() {
    // Use a spell-checking library or API.
  }

  function toggleAutoCorrect() {
    // You could potentially implement basic auto-correct rules.
  }

  function openThesaurus() {
    // Use a thesaurus API.
  }

  function calculateExpression() {
    const expression = prompt('Enter a mathematical expression:');
    if (expression) {
      try {
        const result = eval(expression);
        alert(`Result: ${result}`);
      } catch (error) {
        alert('Invalid expression');
      }
    }
  }

  function insertFormula() {
    // This would require a formula editor and rendering engine.
  }

  function createGraph() {
    // This would require a charting library.
  }

  function showHelpContents() {
    // Display static help content within the web page.
  }

  function searchHelp() {
    // Implement a search function for the help content.
  }

  function showAbout() {
    alert('WordStar Seven Revival\nA web-based homage to the classic word processor.\nCreated as a demonstration of modern web technologies.');
  }

  // Add blinking cursor effect
  let cursorVisible = true;
  setInterval(() => {
    if (cursorVisible) {
      editor.style.borderRight = 'none';
    } else {
      editor.style.borderRight = '1px solid #ff0000';
    }
    cursorVisible = !cursorVisible;
  }, 500);
});
</script>

</body></html>
