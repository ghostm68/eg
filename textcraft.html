<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AmigaWord Clone - Web Edition</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Courier New', monospace;
            background-color: #808080;
        }
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-width: 800px;
            margin: 0 auto;
            background-color: #c0c0c0;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        .menu-bar {
            display: flex;
            background-color: #ffffff;
            padding: 2px;
        }
        .menu-item {
            padding: 2px 10px;
            margin-right: 2px;
            background-color: #ffffff;
            border: 1px solid #000;
            cursor: pointer;
            font-size: 14px;
        }
        .menu-item:first-child {
            background-color: #00a000;
            color: #fff;
        }
        .toolbar {
            display: flex;
            background-color: #c0c0c0;
            padding: 2px;
        }
        .tool-button {
            width: 32px;
            height: 32px;
            background-color: #8080ff;
            border: 1px solid #000;
            margin-right: 2px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: #000;
        }
        .ruler {
            height: 20px;
            background-color: #ffffb0;
            position: relative;
            border-top: 1px solid #000;
            border-bottom: 1px solid #000;
        }
        .ruler-mark {
            position: absolute;
            top: 0;
            width: 1px;
            height: 10px;
            background-color: #000;
        }
        .ruler-number {
            position: absolute;
            top: 10px;
            font-size: 10px;
            transform: translateX(-50%);
        }
        .editor {
            flex-grow: 1;
            padding: 10px;
            overflow-y: auto;
            border: none;
            resize: none;
            font-size: 16px;
            background-color: #fff;
            line-height: 1.5;
            background-image: linear-gradient(#ccc 1px, transparent 1px);
            background-size: 100% 24px;
            background-position: 0 -1px;
        }
        .status-bar {
            background-color: #c0c0c0;
            padding: 2px 5px;
            display: flex;
            justify-content: space-between;
            border-top: 1px solid #000;
            font-size: 12px;
        }
        .scroll-arrow {
            width: 16px;
            height: 16px;
            background-color: #c0c0c0;
            border: 1px solid #000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            cursor: pointer;
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        .dropdown-content a:hover {background-color: #f1f1f1}
        .dropdown:hover .dropdown-content {
            display: block;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="menu-bar">
        <div class="menu-item dropdown">
            Help
            <div class="dropdown-content">
                <a href="#">About</a>
                <a href="#">User Guide</a>
            </div>
        </div>
        <div class="menu-item dropdown">
            Project
            <div class="dropdown-content">
                <a href="#" id="new-doc">New</a>
                <a href="#" id="save-doc">Save</a>
                <a href="#" id="load-doc">Load</a>
            </div>
        </div>
        <div class="menu-item dropdown">
            Layout
            <div class="dropdown-content">
                <a href="#" id="align-left">Align Left</a>
                <a href="#" id="align-center">Center</a>
                <a href="#" id="align-right">Align Right</a>
            </div>
        </div>
        <div class="menu-item">Styles</div>
        <div class="menu-item">Extras</div>
        <div class="tool-button" id="magic-wand-btn" title="Magic Wand">ü™Ñ</div>
        <div class="tool-button" id="scissors-btn" title="Cut">‚úÇÔ∏è</div>
        <div class="tool-button" id="camera-btn" title="Insert Image">üì∑</div>
        <div class="tool-button" id="stamp-btn" title="Stamp">üñãÔ∏è</div>
        <div class="tool-button" id="paint-roller-btn" title="Fill">üé®</div>
        <div class="tool-button" id="info-btn" title="Information">‚ÑπÔ∏è</div>
        <div class="tool-button" id="bold-btn" title="Bold">B</div>
        <div class="tool-button" id="italic-btn" title="Italic">I</div>
        <div class="tool-button" id="underline-btn" title="Underline">U</div>
        <div class="tool-button" id="font-size-btn" title="Font Size">A</div>
        <div class="tool-button" id="text-color-btn" title="Text Color">üé®</div>
        <div class="tool-button" id="undo-btn" title="Undo">‚Ü©Ô∏è</div>
    </div>
    <div class="ruler" id="ruler"></div>
    <div id="editor" class="editor" contenteditable="true" spellcheck="false"></div>
    <div class="status-bar">
        <span id="file-name">untitled</span>
        <span id="cursor-position">Line: 1, Column: 1</span>
        <span id="word-count">Words: 0</span>
    </div>
    <div style="display: flex; justify-content: space-between;">
        <div class="scroll-arrow">‚óÄ</div>
        <div style="display: flex; flex-direction: column;">
            <div class="scroll-arrow">‚ñ≤</div>
            <div class="scroll-arrow">‚ñº</div>
        </div>
        <div class="scroll-arrow">‚ñ∂</div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const ruler = document.getElementById('ruler');
    const editor = document.getElementById('editor');
    const cursorPosition = document.getElementById('cursor-position');
    const wordCount = document.getElementById('word-count');
    const fileName = document.getElementById('file-name');

    // Create ruler markings
    for (let i = 0; i <= 60; i++) {
        const mark = document.createElement('div');
        mark.className = 'ruler-mark';
        mark.style.left = (i * (100/60)) + '%';
        
        if (i % 10 === 0) {
            mark.style.height = '20px';
            const number = document.createElement('span');
            number.className = 'ruler-number';
            number.textContent = i;
            number.style.left = (i * (100/60)) + '%';
            ruler.appendChild(number);
        }
        
        ruler.appendChild(mark);
    }

    // Update cursor position and word count
    editor.addEventListener('input', updateStatusBar);
    editor.addEventListener('click', updateStatusBar);
    editor.addEventListener('keyup', updateStatusBar);

    function updateStatusBar() {
        const selection = window.getSelection();
        const range = selection.getRangeAt(0);
        const lines = editor.innerText.split('\n');
        let lineNumber = 1;
        let columnNumber = 1;

        for (let i = 0; i < lines.length; i++) {
            if (range.startOffset <= lines[i].length) {
                lineNumber = i + 1;
                columnNumber = range.startOffset + 1;
                break;
            }
            range.startOffset -= lines[i].length + 1; // +1 for the newline character
        }

        cursorPosition.textContent = `Line: ${lineNumber}, Column: ${columnNumber}`;
        wordCount.textContent = `Words: ${editor.innerText.trim().split(/\s+/).length}`;
    }

    // Implement text formatting
    document.getElementById('bold-btn').addEventListener('click', () => document.execCommand('bold', false, null));
    document.getElementById('italic-btn').addEventListener('click', () => document.execCommand('italic', false, null));
    document.getElementById('underline-btn').addEventListener('click', () => document.execCommand('underline', false, null));

    document.getElementById('font-size-btn').addEventListener('click', () => {
        const size = prompt('Enter font size (px):', '16');
        if (size) document.execCommand('fontSize', false, '7');
        const fontElements = editor.getElementsByTagName('font');
        for (let i = 0; i < fontElements.length; i++) {
            if (fontElements[i].size === '7') {
                fontElements[i].removeAttribute('size');
                fontElements[i].style.fontSize = `${size}px`;
            }
        }
    });

    document.getElementById('text-color-btn').addEventListener('click', () => {
        const color = prompt('Enter color (name or hex):', 'black');
        if (color) document.execCommand('foreColor', false, color);
    });

    // Implement alignment
    document.getElementById('align-left').addEventListener('click', () => document.execCommand('justifyLeft', false, null));
    document.getElementById('align-center').addEventListener('click', () => document.execCommand('justifyCenter', false, null));
    document.getElementById('align-right').addEventListener('click', () => document.execCommand('justifyRight', false, null));

    // Implement undo
    document.getElementById('undo-btn').addEventListener('click', () => document.execCommand('undo', false, null));

    // Implement save and load functionality
    document.getElementById('save-doc').addEventListener('click', () => {
        const content = editor.innerHTML;
        const blob = new Blob([content], {type: 'text/html'});
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = `${fileName.textContent}.html`;
        a.click();
    });

    document.getElementById('load-doc').addEventListener('click', () => {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = '.html';
        input.onchange = e => {
            const file = e.target.files[0];
            const reader = new FileReader();
            reader.readAsText(file, 'UTF-8');
            reader.onload = readerEvent => {
                editor.innerHTML = readerEvent.target.result;
                fileName.textContent = file.name.replace('.html', '');
                updateStatusBar();
            }
        }
        input.click();
    });

    document.getElementById('new-doc').addEventListener('click', () => {
        if (confirm('Create a new document? Unsaved changes will be lost.')) {
            editor.innerHTML = '';
            fileName.textContent = 'untitled';
            updateStatusBar();
        }
    });

    // New tool button functionalities
    document.getElementById('magic-wand-btn').addEventListener('click', () => {
        alert('Magic Wand tool: Apply special effects or formatting');
    });

    document.getElementById('scissors-btn').addEventListener('click', () => {
        document.execCommand('cut', false, null);
    });

    document.getElementById('camera-btn').addEventListener('click', () => {
        const imgUrl = prompt('Enter the URL of the image:');
        if (imgUrl) {
            document.execCommand('insertImage', false, imgUrl);
        }
    });

    document.getElementById('stamp-btn').addEventListener('click', () => {
        const stamp = prompt('Enter text to stamp:', 'APPROVED');
        if (stamp) {
            const stampSpan = `<span style="color: red; font-weight: bold; border: 2px solid red; padding: 2px;">${stamp}</span>`;
            document.execCommand('insertHTML', false, stampSpan);
        }
    });

    document.getElementById('paint-roller-btn').addEventListener('click', () => {
        const color = prompt('Enter background color (name or hex):', 'yellow');
        if (color) document.execCommand('backColor', false, color);
    });

    document.getElementById('info-btn').addEventListener('click', () => {
        alert('Document Information:\n' +
              `Filename: ${fileName.textContent}\n` +
              `Word Count: ${editor.innerText.trim().split(/\s+/).length}\n` +
              `Character Count: ${editor.innerText.length}`);
            });

document.addEventListener('DOMContentLoaded', function() {
    const ruler = document.getElementById('ruler');
    const rulerMarks = document.getElementById('ruler-marks');
    const editor = document.getElementById('editor');
    const cursorPosition = document.getElementById('cursor-position');
    const wordCount = document.getElementById('word-count');
    const fileName = document.getElementById('file-name');
    const canvas = document.getElementById('drawing-canvas');
    const ctx = canvas.getContext('2d');

    // Create ruler markings
    for (let i = 0; i <= 60; i++) {
        const mark = document.createElement('div');
        mark.className = 'ruler-mark';
        mark.style.left = (i * (100/60)) + '%';
        
        if (i % 10 === 0) {
            mark.style.height = '40px';
            const number = document.createElement('span');
            number.className = 'ruler-number';
            number.textContent = i;
            number.style.left = (i * (100/60)) + '%';
            rulerMarks.appendChild(number);
        }
        
        rulerMarks.appendChild(mark);
    }
        
    });
});
</script>
</body>
</html>
