<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogoPad</title>
    
    <!-- Essential Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DejaVu+Sans:wght@400;700&family=DejaVu+Serif:wght@400;700&family=DejaVu+Sans+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Noto+Serif:wght@400;700&family=Noto+Sans+Mono&display=swap" rel="stylesheet">
    
    <!-- Your Custom Fonts -->
    <style>
    @font-face {
        font-family: 'Ac437 Mindset-2y';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_Mindset-2y.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 EuroPC CGA-2y';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_EuroPC_CGA-2y.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 EuroPC CGA';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_EuroPC_CGA.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 EuroPC Mono';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_EuroPC_Mono.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 EverexME 5x8';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_EverexME_5x8.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 EverexME 7x8';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_EverexME_7x8.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 HP 150';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_HP_150_re.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM 3270pc';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_3270pc.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM BIOS-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_BIOS-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM BIOS-2y';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_BIOS-2y.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM BIOS';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_BIOS.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM CGA-2y';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_CGA-2y.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM CGA';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_CGA.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM CGAthin-2y';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_CGAthin-2y.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM CGAthin';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_CGAthin.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM Conv-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_Conv-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM Conv-2y';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_Conv-2y.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM Conv';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_Conv.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM DOS ISO8-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_DOS_ISO8-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM DOS ISO8';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_DOS_ISO8.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM DOS ISO9-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_DOS_ISO9-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM DOS ISO9';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_DOS_ISO9.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 8x14-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_8x14-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 8x14';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_8x14.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 8x8-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_8x8-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 8x8';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_8x8.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 9x14-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_9x14-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 9x14';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_9x14.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 9x8-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_9x8-2x.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM EGA 9x8';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_EGA_9x8.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 IBM MDA';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_IBM_MDA.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Ac437 Mindset-2x';
        src: url('https://raw.githubusercontent.com/ghostm68/inktwo/main/soviet-program/Ac437_Mindset-2x.ttf') format('truetype');
    }
    
    /* Compact Base Styles */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-size: 13px;
    }
    
    body {
        font-family: 'DejaVu Sans', sans-serif;
        background: #f8f9fa;
        color: #333;
        line-height: 1.5;
        padding: 15px;
        max-width: 1200px;
        margin: 0 auto;
        min-height: 100vh;
    }
    
    /* Header - Smaller */
    .app-header {
        text-align: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #dee2e6;
    }
    
    .app-header h1 {
        font-size: 1.8em;
        color: #2c3e50;
        margin-bottom: 5px;
    }
    
    .app-header p {
        color: #6c757d;
        font-size: 0.95em;
    }
    
    /* Two-Column Layout */
    .main-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        min-height: calc(100vh - 120px);
    }
    
    /* Left Column: Notepad */
    .notepad-section {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    
    .notepad-header {
        background: #2c3e50;
        color: white;
        padding: 12px 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-radius: 8px 8px 0 0;
    }
    
    .notepad-header h2 {
        font-size: 1.2em;
    }
    
    .notepad-actions {
        display: flex;
        gap: 8px;
    }
    
    .action-button {
        padding: 6px 12px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-family: inherit;
        font-weight: bold;
        font-size: 0.9em;
        transition: opacity 0.2s;
    }
    
    .action-button:hover {
        opacity: 0.9;
    }
    
    .action-button.pdf {
        background: #e74c3c;
        color: white;
    }
    
    .action-button.txt {
        background: #3498db;
        color: white;
    }
    
    .action-button.clear {
        background: #95a5a6;
        color: white;
    }
    
    #design-notepad {
        flex: 1;
        min-height: 300px;
        padding: 15px;
        border: none;
        font-family: inherit;
        font-size: 13px;
        line-height: 1.6;
        resize: none;
        background: #fafafa;
        outline: none;
        border-radius: 0 0 8px 8px;
    }
    
    #design-notepad:focus {
        background: white;
    }
    
    /* Right Column: Logo Controls */
    .logo-section {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        padding: 15px;
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    
    .logo-section h2 {
        color: #2c3e50;
        margin-bottom: 15px;
        padding-bottom: 8px;
        border-bottom: 1px solid #eee;
        font-size: 1.2em;
    }
    
    /* Logo Preview - Smaller */
    .logo-display-area {
        background: #f8f9fa;
        border-radius: 6px;
        padding: 20px;
        margin-bottom: 15px;
        text-align: center;
        border: 1px dashed #ced4da;
        flex-shrink: 0;
    }
    
    #logo-preview {
        font-size: 32px;
        font-weight: bold;
        padding: 8px;
        transition: all 0.3s ease;
        max-width: 100%;
        word-wrap: break-word;
    }
    
    /* Logo Image Save Button */
    .logo-save-section {
        display: flex;
        justify-content: center;
        margin-bottom: 15px;
    }
    
    .save-logo-btn {
        background: red;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .save-logo-btn:hover {
        background: grey;
    }
    
    /* Logo Controls - Compact */
    .logo-controls {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 12px;
        overflow-y: auto;
    }
    
    .control-group {
        display: flex;
        flex-direction: column;
        gap: 5px;
    }
    
    .control-group label {
        font-weight: bold;
        color: #495057;
        font-size: 0.9em;
    }
    
    /* Shared Font Selection */
    #font-select {
        padding: 8px;
        border: 1px solid #ced4da;
        border-radius: 4px;
        font-family: inherit;
        font-size: 12px;
        background: white;
        width: 100%;
    }
    
    #logo-text {
        padding: 8px;
        border: 1px solid #ced4da;
        border-radius: 4px;
        font-family: inherit;
        font-size: 13px;
        width: 100%;
    }
    
    .color-control {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    #logo-color {
        width: 40px;
        height: 30px;
        border: 1px solid #ced4da;
        border-radius: 3px;
        cursor: pointer;
        padding: 0;
    }
    
    #color-value {
        font-size: 0.85em;
        color: #6c757d;
    }
    
    /* RED Slider Styling */
    .size-control {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 5px;
    }
    
    /* Red slider styling */
    #font-size {
        flex: 1;
        -webkit-appearance: none;
        height: 6px;
        background: #e74c3c;
        border-radius: 3px;
        outline: none;
    }
    
    /* Webkit browsers (Chrome, Safari, Edge) */
    #font-size::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        background: #c0392b;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }
    
    /* Firefox */
    #font-size::-moz-range-thumb {
        width: 18px;
        height: 18px;
        background: #c0392b;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }
    
    /* IE/Edge */
    #font-size::-ms-thumb {
        width: 18px;
        height: 18px;
        background: #c0392b;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }
    
    /* Red slider track */
    #font-size::-webkit-slider-runnable-track {
        background: #e74c3c;
        height: 6px;
        border-radius: 3px;
    }
    
    #font-size::-moz-range-track {
        background: #e74c3c;
        height: 6px;
        border-radius: 3px;
    }
    
    #size-value {
        font-weight: bold;
        color: #e74c3c;
        min-width: 40px;
        font-size: 0.9em;
    }
    
    .reset-button {
        background: #6c757d;
        color: white;
        padding: 8px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-family: inherit;
        font-weight: bold;
        margin-top: 10px;
        font-size: 0.9em;
    }
    
    .reset-button:hover {
        background: #5a6268;
    }
    
    /* Footer - Smaller */
    .app-footer {
        text-align: center;
        padding: 15px;
        color: #6c757d;
        font-size: 0.8em;
        border-top: 1px solid #dee2e6;
        margin-top: 20px;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
        .main-container {
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .app-header h1 {
            font-size: 1.5em;
        }
        
        #logo-preview {
            font-size: 28px;
        }
    }
    </style>
</head>
<body>
    <header class="app-header">
        <h1>Logo Scratchpad Maker</h1>
        <p>A compact two-column notepad with logo design</p>
    </header>
    
    <div class="main-container">
        <!-- Left Column: Notepad -->
        <section class="notepad-section">
            <div class="notepad-header">
                <h2>Design Notes</h2>
                <div class="notepad-actions">
                    <button class="action-button pdf" id="export-pdf-btn">PDF</button>
                    <button class="action-button txt" id="export-txt-btn">TXT</button>
                    <button class="action-button clear" id="clear-notes">Clear</button>
                </div>
            </div>
            <textarea id="design-notepad" placeholder="Design notes, specifications, ideas...

‚Ä¢ Logo concept details
‚Ä¢ Color codes and palettes
‚Ä¢ Font specifications
‚Ä¢ Export requirements
‚Ä¢ Client feedback

The notepad uses the same font as your logo..."></textarea>
        </section>
        
        <!-- Right Column: Logo Design -->
        <section class="logo-section">
            <h2>Logo Design</h2>
            
            <div class="logo-display-area">
                <div id="logo-preview">Logo</div>
            </div>
            
            <div class="logo-save-section">
                <button class="save-logo-btn" id="save-logo-btn">
                    <span>üíæ</span> Save Logo as Image
                </button>
            </div>
            
            <div class="logo-controls">
                <div class="control-group">
                    <label for="font-select">Font Style:</label>
                    <select id="font-select">
                        <optgroup label="Standard Fonts">
                            <option value="DejaVu Sans" selected>DejaVu Sans</option>
                            <option value="DejaVu Sans Bold">DejaVu Sans Bold</option>
                            <option value="DejaVu Serif">DejaVu Serif</option>
                            <option value="DejaVu Serif Bold">DejaVu Serif Bold</option>
                            <option value="DejaVu Sans Mono">DejaVu Sans Mono</option>
                        </optgroup>
                        <optgroup label="Noto Font Family">
                            <option value="Noto Sans">Noto Sans</option>
                            <option value="Noto Sans Bold">Noto Sans Bold</option>
                            <option value="Noto Serif">Noto Serif</option>
                            <option value="Noto Serif Bold">Noto Serif Bold</option>
                            <option value="Noto Sans Mono">Noto Sans Mono</option>
                        </optgroup>
                        <optgroup label="Retro IBM Fonts">
                            <option value="Ac437 Mindset-2y">Ac437 Mindset-2y</option>
                            <option value="Ac437 Mindset-2x">Ac437 Mindset-2x</option>
                            <option value="Ac437 EuroPC CGA-2y">Ac437 EuroPC CGA-2y</option>
                            <option value="Ac437 EuroPC CGA">Ac437 EuroPC CGA</option>
                            <option value="Ac437 EuroPC Mono">Ac437 EuroPC Mono</option>
                            <option value="Ac437 EverexME 5x8">Ac437 EverexME 5x8</option>
                            <option value="Ac437 EverexME 7x8">Ac437 EverexME 7x8</option>
                            <option value="Ac437 HP 150">Ac437 HP 150</option>
                            <option value="Ac437 IBM 3270pc">Ac437 IBM 3270pc</option>
                            <option value="Ac437 IBM BIOS-2x">Ac437 IBM BIOS-2x</option>
                            <option value="Ac437 IBM BIOS-2y">Ac437 IBM BIOS-2y</option>
                            <option value="Ac437 IBM BIOS">Ac437 IBM BIOS</option>
                            <option value="Ac437 IBM CGA-2y">Ac437 IBM CGA-2y</option>
                            <option value="Ac437 IBM CGA">Ac437 IBM CGA</option>
                            <option value="Ac437 IBM CGAthin-2y">Ac437 IBM CGAthin-2y</option>
                            <option value="Ac437 IBM CGAthin">Ac437 IBM CGAthin</option>
                            <option value="Ac437 IBM Conv-2x">Ac437 IBM Conv-2x</option>
                            <option value="Ac437 IBM Conv-2y">Ac437 IBM Conv-2y</option>
                            <option value="Ac437 IBM Conv">Ac437 IBM Conv</option>
                            <option value="Ac437 IBM DOS ISO8-2x">Ac437 IBM DOS ISO8-2x</option>
                            <option value="Ac437 IBM DOS ISO8">Ac437 IBM DOS ISO8</option>
                            <option value="Ac437 IBM DOS ISO9-2x">Ac437 IBM DOS ISO9-2x</option>
                            <option value="Ac437 IBM DOS ISO9">Ac437 IBM DOS ISO9</option>
                            <option value="Ac437 IBM EGA 8x14-2x">Ac437 IBM EGA 8x14-2x</option>
                            <option value="Ac437 IBM EGA 8x14">Ac437 IBM EGA 8x14</option>
                            <option value="Ac437 IBM EGA 8x8-2x">Ac437 IBM EGA 8x8-2x</option>
                            <option value="Ac437 IBM EGA 8x8">Ac437 IBM EGA 8x8</option>
                            <option value="Ac437 IBM EGA 9x14-2x">Ac437 IBM EGA 9x14-2x</option>
                            <option value="Ac437 IBM EGA 9x14">Ac437 IBM EGA 9x14</option>
                            <option value="Ac437 IBM EGA 9x8-2x">Ac437 IBM EGA 9x8-2x</option>
                            <option value="Ac437 IBM EGA 9x8">Ac437 IBM EGA 9x8</option>
                            <option value="Ac437 IBM MDA">Ac437 IBM MDA</option>
                        </optgroup>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="logo-text">Logo Text:</label>
                    <input type="text" id="logo-text" value="Logo" maxlength="20">
                </div>
                
                <div class="control-group">
                    <label>Logo Color:</label>
                    <div class="color-control">
                        <input type="color" id="logo-color" value="#2C3E50">
                        <span id="color-value">#2C3E50</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <label for="font-size">Font Size: <span id="size-value">32px</span></label>
                    <div class="size-control">
                        <input type="range" id="font-size" min="16" max="72" value="32">
                    </div>
                </div>
                
                <button class="reset-button" id="reset-logo">Reset Logo</button>
            </div>
        </section>
    </div>
    
    <footer class="app-footer">
        <p>Export notes as TXT/PDF ‚Ä¢ Save logo as PNG ‚Ä¢ everex process done locally</p>
    </footer>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // DOM Elements
        const notepad = document.getElementById('design-notepad');
        const logoPreview = document.getElementById('logo-preview');
        const logoText = document.getElementById('logo-text');
        const fontSelect = document.getElementById('font-select');
        const logoColor = document.getElementById('logo-color');
        const colorValue = document.getElementById('color-value');
        const fontSize = document.getElementById('font-size');
        const sizeValue = document.getElementById('size-value');
        
        // Buttons
        const saveLogoBtn = document.getElementById('save-logo-btn');
        const exportPdfBtn = document.getElementById('export-pdf-btn');
        const exportTxtBtn = document.getElementById('export-txt-btn');
        const clearNotesBtn = document.getElementById('clear-notes');
        const resetLogoBtn = document.getElementById('reset-logo');
        
        // Map font names to CSS font-family values - COMPLETE VERSION
        function getFontFamily(fontName) {
            const fontMap = {
                // DejaVu Fonts
                'DejaVu Sans': "'DejaVu Sans', sans-serif",
                'DejaVu Sans Bold': "'DejaVu Sans', sans-serif",
                'DejaVu Serif': "'DejaVu Serif', serif",
                'DejaVu Serif Bold': "'DejaVu Serif', serif",
                'DejaVu Sans Mono': "'DejaVu Sans Mono', monospace",
                
                // Noto Fonts
                'Noto Sans': "'Noto Sans', sans-serif",
                'Noto Sans Bold': "'Noto Sans', sans-serif",
                'Noto Serif': "'Noto Serif', serif",
                'Noto Serif Bold': "'Noto Serif', serif",
                'Noto Sans Mono': "'Noto Sans Mono', monospace",
                
                // Retro IBM Fonts - ALL of them
                'Ac437 Mindset-2y': "'Ac437 Mindset-2y', monospace",
                'Ac437 Mindset-2x': "'Ac437 Mindset-2x', monospace",
                'Ac437 EuroPC CGA-2y': "'Ac437 EuroPC CGA-2y', monospace",
                'Ac437 EuroPC CGA': "'Ac437 EuroPC CGA', monospace",
                'Ac437 EuroPC Mono': "'Ac437 EuroPC Mono', monospace",
                'Ac437 EverexME 5x8': "'Ac437 EverexME 5x8', monospace",
                'Ac437 EverexME 7x8': "'Ac437 EverexME 7x8', monospace",
                'Ac437 HP 150': "'Ac437 HP 150', monospace",
                'Ac437 IBM 3270pc': "'Ac437 IBM 3270pc', monospace",
                'Ac437 IBM BIOS-2x': "'Ac437 IBM BIOS-2x', monospace",
                'Ac437 IBM BIOS-2y': "'Ac437 IBM BIOS-2y', monospace",
                'Ac437 IBM BIOS': "'Ac437 IBM BIOS', monospace",
                'Ac437 IBM CGA-2y': "'Ac437 IBM CGA-2y', monospace",
                'Ac437 IBM CGA': "'Ac437 IBM CGA', monospace",
                'Ac437 IBM CGAthin-2y': "'Ac437 IBM CGAthin-2y', monospace",
                'Ac437 IBM CGAthin': "'Ac437 IBM CGAthin', monospace",
                'Ac437 IBM Conv-2x': "'Ac437 IBM Conv-2x', monospace",
                'Ac437 IBM Conv-2y': "'Ac437 IBM Conv-2y', monospace",
                'Ac437 IBM Conv': "'Ac437 IBM Conv', monospace",
                'Ac437 IBM DOS ISO8-2x': "'Ac437 IBM DOS ISO8-2x', monospace",
                'Ac437 IBM DOS ISO8': "'Ac437 IBM DOS ISO8', monospace",
                'Ac437 IBM DOS ISO9-2x': "'Ac437 IBM DOS ISO9-2x', monospace",
                'Ac437 IBM DOS ISO9': "'Ac437 IBM DOS ISO9', monospace",
                'Ac437 IBM EGA 8x14-2x': "'Ac437 IBM EGA 8x14-2x', monospace",
                'Ac437 IBM EGA 8x14': "'Ac437 IBM EGA 8x14', monospace",
                'Ac437 IBM EGA 8x8-2x': "'Ac437 IBM EGA 8x8-2x', monospace",
                'Ac437 IBM EGA 8x8': "'Ac437 IBM EGA 8x8', monospace",
                'Ac437 IBM EGA 9x14-2x': "'Ac437 IBM EGA 9x14-2x', monospace",
                'Ac437 IBM EGA 9x14': "'Ac437 IBM EGA 9x14', monospace",
                'Ac437 IBM EGA 9x8-2x': "'Ac437 IBM EGA 9x8-2x', monospace",
                'Ac437 IBM EGA 9x8': "'Ac437 IBM EGA 9x8', monospace",
                'Ac437 IBM MDA': "'Ac437 IBM MDA', monospace"
            };
            
            return fontMap[fontName] || "'DejaVu Sans', sans-serif";
        }
        
        // Handle bold variants
        function getFontWeight(fontName) {
            return fontName.includes('Bold') ? '700' : '400';
        }
        
        // Update logo preview
        function updateLogoPreview() {
            logoPreview.textContent = logoText.value || 'Logo';
            const selectedFont = getFontFamily(fontSelect.value);
            const fontWeight = getFontWeight(fontSelect.value);
            
            logoPreview.style.fontFamily = selectedFont;
            logoPreview.style.fontWeight = fontWeight;
            logoPreview.style.color = logoColor.value;
            logoPreview.style.fontSize = fontSize.value + 'px';
            
            // Update notepad font to match (SHARED FONT)
            notepad.style.fontFamily = selectedFont;
            notepad.style.fontWeight = fontWeight;
            
            // Update display values
            colorValue.textContent = logoColor.value.toUpperCase();
            sizeValue.textContent = fontSize.value + 'px';
        }
        
        // Save logo as image
        saveLogoBtn.addEventListener('click', async function() {
            try {
                saveLogoBtn.innerHTML = '<span>‚è≥</span> Saving...';
                saveLogoBtn.disabled = true;
                
                // Create a temporary canvas for the logo
                const tempDiv = document.createElement('div');
                const fontWeight = getFontWeight(fontSelect.value);
                tempDiv.style.cssText = `
                    position: fixed;
                    left: -10000px;
                    top: -10000px;
                    padding: 40px;
                    background: white;
                    font-family: ${getFontFamily(fontSelect.value)};
                    font-weight: ${fontWeight};
                    font-size: ${fontSize.value * 3}px;
                    color: ${logoColor.value};
                    display: inline-block;
                `;
                tempDiv.textContent = logoText.value || 'Logo';
                document.body.appendChild(tempDiv);
                
                // Use html2canvas to capture the logo
                await html2canvas(tempDiv, {
                    scale: 4,
                    useCORS: true,
                    logging: false,
                    backgroundColor: null
                }).then(canvas => {
                    // Convert canvas to image and trigger download
                    const link = document.createElement('a');
                    link.download = `logo-${Date.now()}.png`;
                    link.href = canvas.toDataURL('image/png', 1.0);
                    link.click();
                });
                
                // Clean up
                document.body.removeChild(tempDiv);
                saveLogoBtn.innerHTML = '<span>üíæ</span> Save Logo as Image';
                saveLogoBtn.disabled = false;
                
            } catch (error) {
                console.error('Error saving logo:', error);
                alert('Error saving logo image. Please try again.');
                saveLogoBtn.innerHTML = '<span>üíæ</span> Save Logo as Image';
                saveLogoBtn.disabled = false;
            }
        });
        
        // Event Listeners
        logoText.addEventListener('input', updateLogoPreview);
        fontSelect.addEventListener('change', updateLogoPreview);
        logoColor.addEventListener('input', updateLogoPreview);
        fontSize.addEventListener('input', updateLogoPreview);
        
        // Clear notes
        clearNotesBtn.addEventListener('click', function() {
            if (confirm('Clear all notes?')) {
                notepad.value = '';
                notepad.focus();
            }
        });
        
        // Reset logo
        resetLogoBtn.addEventListener('click', function() {
            logoText.value = 'Logo';
            fontSelect.value = 'DejaVu Sans';
            logoColor.value = '#2C3E50';
            fontSize.value = 32;
            updateLogoPreview();
        });
        
        // Export as TXT
        exportTxtBtn.addEventListener('click', function() {
            const content = notepad.value || 'No notes entered.';
            const logoSpecs = `\n\n--- LOGO SPECIFICATIONS ---\nText: ${logoText.value}\nFont: ${fontSelect.value}\nColor: ${logoColor.value}\nSize: ${fontSize.value}px\n`;
            
            const fullContent = content + logoSpecs;
            const blob = new Blob([fullContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `scratchpad-${Date.now()}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        });
        
        // Export as PDF
        exportPdfBtn.addEventListener('click', async function() {
            try {
                exportPdfBtn.textContent = 'Generating...';
                exportPdfBtn.disabled = true;
                
                const fontWeight = getFontWeight(fontSelect.value);
                const pdfContainer = document.createElement('div');
                pdfContainer.style.cssText = `
                    position: fixed;
                    left: -10000px;
                    top: -10000px;
                    width: 600px;
                    padding: 30px;
                    background: white;
                    font-family: 'DejaVu Sans', sans-serif;
                    font-size: 12px;
                `;
                
                // Title
                const title = document.createElement('h1');
                title.textContent = 'Logo Scratchpad Export';
                title.style.cssText = 'color: #2c3e50; margin-bottom: 20px; font-size: 18px;';
                pdfContainer.appendChild(title);
                
                // Logo Section
                const logoSection = document.createElement('div');
                logoSection.style.cssText = 'margin-bottom: 25px; text-align: center;';
                
                const logoDisplay = document.createElement('div');
                logoDisplay.textContent = logoText.value || 'Logo';
                logoDisplay.style.cssText = `
                    font-family: ${getFontFamily(fontSelect.value)};
                    font-weight: ${fontWeight};
                    font-size: ${fontSize.value * 2}px;
                    color: ${logoColor.value};
                    padding: 20px;
                    background: #f8f9fa;
                    border-radius: 6px;
                    display: inline-block;
                    margin-bottom: 10px;
                `;
                logoSection.appendChild(logoDisplay);
                
                const specs = document.createElement('div');
                specs.style.cssText = 'font-size: 11px; color: #6c757d;';
                specs.innerHTML = `Font: ${fontSelect.value} | Color: ${logoColor.value} | Size: ${fontSize.value}px`;
                logoSection.appendChild(specs);
                pdfContainer.appendChild(logoSection);
                
                // Separator
                const separator = document.createElement('hr');
                separator.style.cssText = 'margin: 20px 0; border: 0.5px solid #dee2e6;';
                pdfContainer.appendChild(separator);
                
                // Notes
                const notesTitle = document.createElement('h2');
                notesTitle.textContent = 'Notes';
                notesTitle.style.cssText = 'color: #495057; margin-bottom: 10px; font-size: 14px;';
                pdfContainer.appendChild(notesTitle);
                
                const notesContent = document.createElement('div');
                notesContent.textContent = notepad.value || 'No notes provided.';
                notesContent.style.cssText = `
                    white-space: pre-wrap;
                    font-family: ${getFontFamily(fontSelect.value)};
                    font-weight: ${fontWeight};
                    font-size: 11px;
                    line-height: 1.6;
                    padding: 15px;
                    background: #f8f9fa;
                    border-radius: 4px;
                `;
                pdfContainer.appendChild(notesContent);
                
                // Footer
                const footer = document.createElement('div');
                footer.style.cssText = `
                    margin-top: 30px;
                    padding-top: 15px;
                    border-top: 0.5px solid #dee2e6;
                    font-size: 10px;
                    color: #adb5bd;
                    text-align: center;
                `;
                footer.textContent = `Exported ${new Date().toLocaleDateString()}`;
                pdfContainer.appendChild(footer);
                
                document.body.appendChild(pdfContainer);
                
                // Generate PDF
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4'
                });
                
                await html2canvas(pdfContainer, {
                    scale: 3,
                    useCORS: true,
                    logging: false
                }).then(canvas => {
                    const imgData = canvas.toDataURL('image/png');
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
                    
                    pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                    pdf.save(`scratchpad-${Date.now()}.pdf`);
                });
                
                document.body.removeChild(pdfContainer);
                exportPdfBtn.textContent = 'PDF';
                exportPdfBtn.disabled = false;
                
            } catch (error) {
                console.error('PDF error:', error);
                alert('Error generating PDF');
                exportPdfBtn.textContent = 'PDF';
                exportPdfBtn.disabled = false;
            }
        });
        
        // Initialize
        updateLogoPreview();
        notepad.focus();
    });
    </script>
</body>
</html>
