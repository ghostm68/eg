<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IBM Writing Assistant</title>
    <link rel="stylesheet" href="cyberpunk-2077.css">
</head>
  <style>
    body {
    font-family: Arial, sans-serif;
    background-color: #f0f8ff;
    color: #000;
    margin: 0;
    padding: 0;
}

.splash-screen {
    text-align: center;
    padding-top: 20%;
}

.menu-options p {
    margin: 10px 0;
}

.footer {
    margin-top: 20px;
    font-style: italic;
}

.editor-container {
    padding: 20px;
}

.hidden {
    display: none;
}

.toolbar {
    background-color: #0047ab;
    color: white;
    padding: 10px;
}

.toolbar button {
    background-color: white;
    border: 1px solid #0047ab;
    color: #0047ab;
    padding: 5px 10px;
    margin-right: 5px;
    cursor: pointer;
}

.toolbar button:hover {
    background-color: #0047ab;
    color: white;
}

.text-editor {
    border: 1px solid #0047ab;
    padding: 10px;
    min-height: 400px;
    margin-top: 10px;
    background-color: white;
    
}

  </style>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <b>I. W. A.</b><br>
        <div>
            <i>Select nine to continue...</i><br>
			<!-- inside splash-screen div, just before the closing </div> -->
<button id="open-btn" style="margin-top:1rem;padding:.75rem 2rem;font-size:1.3rem;background:#0047ab;color:#fff;border:none;border-radius:4px;">
  Mobile-Open 
</button>
 <section class="showcase">
        <header>  <ul><h1 class="cyberpunk glitched">
		<font color="yellow">
              <a href="https://inkrealm.info">&#x2658; Main</a></br>
           
          <img width="188" src="https://winworldpc.com/res/img/screenshots/3ce6009d96110da588196263bc9cf15bcac572fcd3b30188608debeb801329c3.png"> 
       <a href="https://wordstar.nexus/">&#x2602; Nexus</a></br>
		</font color="yellow">
		  </div>
    </div>

    <!-- Main Editor -->
    <div id="editor-container" class="editor-container hidden">
 
        <div class="toolbar">
            <button onclick="formatText('bold')">Bold</button>
            <button onclick="formatText('italic')">Italic</button>
            <button onclick="formatText('underline')">Underline</button>
            <button onclick="saveDocument()">Save</button>
            <button onclick="openDocument()">Open</button>
        </div>
        <div contenteditable="true" id="text-editor" class="text-editor">
            Start typing here...
        </div>
    </div>
<!-- ===== IBM IWA 2.0 retro additions ===== -->
<style>
  /* IBM-style copyright */
  #ibm-footer{
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    background:#000;
    color:#33ff33;
    font:11px 'Courier New',monospace;
    padding:2px 6px;
    letter-spacing:.6px;
  }
  /* fake dot-matrix preview */
  #preview-body{
    font:12px/1.4 'Courier New',monospace;
    white-space:pre-wrap;
    margin:18px;
  }
</style>

<footer id="ibm-footer">
  Copyright © 1985,2025 IBM Corp. IBM Writing Assistant 2.0  |  KIMI-AI DESIGN  |  WORDSTAR.NEXUS  |  SYNONYM INKREALM.INFO
</footer>

<script>
/* ---------- F-key mappings (IBM IWA style) ---------- */
document.addEventListener('keydown', e=>{
  if(e.key==='F3'){ e.preventDefault(); saveDocument(); }   // original IBM IWA F3=Save
  if(e.key==='F4'){ e.preventDefault(); openDocument(); }   // F4=Open
  if(e.key==='F10'){ e.preventDefault();
     document.querySelector('.toolbar').scrollIntoView({behavior:'smooth'});
   }                                                         // F10=Menu
});

/* ---------- mail-merge helper ---------- */
function mergeFields(html){
  const re=/<<([^>]+)>>/g;
  let m, out=html;
  while((m=re.exec(html))!==null){
     const val=prompt('Value for field “'+m[1]+'”:');
     if(val===null) break;
     out=out.split(m[0]).join(val);
  }
  return out;
}

/* ---------- override save to do merge ---------- */
const oldSave=saveDocument;
saveDocument=()=>{
   const editor=document.getElementById('text-editor');
   editor.innerHTML=mergeFields(editor.innerHTML);
   oldSave();                         // now run original save
};

/* ---------- dot-matrix print-preview ---------- */
function printPreview(){
  const w=window.open('','preview','width=640,height=400,scrollbars=1');
  const css='<style>body{font:12px/1.4 "Courier New",monospace;white-space:pre-wrap;margin:18px}</style>';
  const pages=document.getElementById('text-editor').innerText
                 .replace(/\n/g,'\r\n')
                 .split(/(\r?\n){66}/);          // 66 lines per page (classic)
  let html=css+'<div id="preview-body">';
  pages.forEach((page,i)=>{
     html+='\r\n--- PAGE '+(i+1)+' ---\r\n'+page;
  });
  html+='</div>';
  w.document.write(html);
  w.document.close();
}

/* add preview button to toolbar */
document.addEventListener('DOMContentLoaded',()=>{
  const btn=document.createElement('button');
  btn.textContent='Preview';
  btn.onclick=printPreview;
  document.querySelector('.toolbar').appendChild(btn);
});
</script>
<!-- ===== end retro IBM IWA 2.0 extras ===== -->
    <script>
     document.addEventListener('DOMContentLoaded', function() {
    const splashScreen = document.getElementById('splash-screen');
    const editorContainer = document.getElementById('editor-container');

    document.addEventListener('keydown', function(e) {
        if (e.key >= '1' && e.key <= '9') {
            splashScreen.classList.add('hidden');
            editorContainer.classList.remove('hidden');
        }
    });
});

function formatText(command) {
    document.execCommand(command, false, null);
}

function saveDocument() {
    const text = document.getElementById('text-editor').innerHTML;
    const blob = new Blob([text], { type: 'text/html' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = 'document.html';
    link.click();
}

function openDocument() {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'text/html';
    input.onchange = function(event) {
        const file = event.target.files[0];
        const reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById('text-editor').innerHTML = e.target.result;
        };
        reader.readAsText(file);
    };
    input.click();
}
 // replace the current DOMContentLoaded block with this
document.addEventListener('DOMContentLoaded', () => {
  const splash = document.getElementById('splash-screen');
  const editor = document.getElementById('editor-container');
  const openBtn = document.getElementById('open-btn');

  const go = () => {
    splash.classList.add('hidden');
    editor.classList.remove('hidden');
  };

  openBtn.addEventListener('click', go);          // touch / mouse
  document.addEventListener('keydown', e => {     // keep keyboard path
    if (e.key >= '1' && e.key <= '9') go();
  });
});
    </script>
</body>
</html>
