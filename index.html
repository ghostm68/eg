<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8) ]><!-->
<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">	
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	
	<!-- anti-cache insurance -->
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	
	<meta itemprop="name" content="wordstar nexus"/>	
	<meta property="og:url" content="https://www.wordstar.nexus/"/>
	<meta data-rh="true" name="description" content="A writer's website, featuring an unedited manuscript and original art as well as videos. Video and audio downloads. The writer often places notes and even new stories on the homepage. Wordstar includes a rotating typewriter. A sigil maker and other apps A unique place for creative souls. A Portal to escape the ordinary. Eclectic and frequently updated."/>
	<meta data-rh="true" property="og:url" content="https://www.wordstar.nexus"/>
	<meta data-rh="true" property="og:type" content="website"/>
	<meta data-rh="true" property="og:title" content="WORDSTAR - writing, music, and the visual arts"/>
	<meta http-equiv="onion-location" content="http://yd3r4tdjgg7you3tuq7uyy5hl7tbwzowmd4pcgf6gpgk24hyawcvsjqd.onion" />
	<meta property="tiktok:app_id" content="@twoskinnygirls" />
	<meta name="twitter:site" content="@inkrealm" />
	<meta name="slack-app-id" content="f060RUD44R3" />
	<meta name="msvalidate.01" content="67F1E9D68BBC837C803D756EE2977B67" />
	<meta property="vk:image" content="https://vk.com/authorwave?z=photo707345788_457239017%2Falbum707345788_0">
	<meta name="p:domain_verify" content="3b55be68eb5ca93c0411d8779e1fa6c2"/>
	<meta property="og:title" content="Two Skinny Girls on Apple Music">
	<meta property="og:description" content="Listen to Two Skinny Girls on Apple Music.">
	<meta property="og:url" content="https://music.apple.com/us/artist/two-skinny-girls/1466240185">
	<meta property="og:image" content="https://is1-ssl.mzstatic.com/image/thumb/Music211/v4/1b/cc/4b/1bcc4bbd-e9f6-fd2e-5bdf-2f347046fb94/5063845083831_cover.jpg/592x592bf.webp">
	<meta property="og:type" content="music.musician">
	<meta property="og:site_name" content="Apple Music">
	
	<!-- Favicon -->
<meta property="og:url" content="https://www.wordstar.nexus/"/>
<link rel="icon" type="image/png" href="/svg/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/svg/favicon.svg" />
<link rel="shortcut icon" href="/svg/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/svg/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="wordstar" />
<link rel="manifest" href="/svg/site.webmanifest" />
	
	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Helvetica:wght@400;600;800&family=Oswald:wght@400;500;600;800&family=Almendra:wght@400;700&family=Share+Tech+Mono&family=VT323&family=Special+Elite&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	
	<!-- prefetching -->
	<link rel="preconnect" href="https://www.missionjuno.swri.edu">
	<link rel="preconnect" href="https://d2xkkdgjnsfvb0.cloudfront.net">
	<link rel="dns-prefetch" href="//ajax.googleapis.com">
	<link rel="writer" href="https://www.reddit.com/user/Adorable-Ad-4993/" />
	<link rel="me" href="https://is.nota.live/@Inkrealm" />
	<link rel="preconnect" href="https://raw.githubusercontent.com">
	<link rel="dns-prefetch" href="https://raw.githubusercontent.com">
	
	<meta name="copyright" content="Copyright 2026 INKREALM-NEXUS. All rights reserved."/>
	
	<!-- ‚ùÇ  ¬£  ‚Çø ¬£ 0 ‚àÜÂÖÉ ‚àÜÔø¶ ‚àÜ üÇ∂Ôø•  ¬£ üÇ∂Ôø• ¬£ ·ûØ 0ÂÖÉ ‚àÜÔø¶ ‚àÜ ¬¢·∂Ñ·∂Ñ ‚ùÇ ‚éà ‚ë± ‚ôòùÖô ‚Ç™ —è ‚ô¢ for investment advice : ‚ö° +‚Ä¢1=9=1‚Ä¢7=3‚Ä¢1=0‚Ä¢0=1‚Ä¢1‚Ä¢6‚Ä¢ -->
	<title>word‚òÜnexus</title>
	
	<!-- ink city layout 516
	 -Created by www.inkrealm.info 
	 (inspired by william s burroughs)
		ja: "ÁßÅ„ÅÆÂÄã‰∫∫ÊÉÖÂ†±„ÇíË≤©Â£≤„Åó„Å™„ÅÑ(„Ç´„É™„Éï„Ç©„É´„Éã„Ç¢Â∑ûÊ∂àË≤ªËÄÖ„Éó„É©„Ç§„Éê„Ç∑„ÉºÊ≥ï)",
		–ß–∞—Å—Ç–Ω–∞—è –ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, Informa√ß√µes pessoais privadas, 
		Pers√≥nulegar uppl√Ωsingar, 
		Private personal information, ·ûñ·üê·ûè·üå·ûò·û∂·ûì·ûï·üí·ûë·û∂·ûõ·üã·ûÅ·üí·ûõ·ûΩ·ûì·ûØ·ûÄ·ûá·ûì
		(Verbraucherschutzgesetz der Pr√§fektur Kalifornien)
		en: "Do Not Sell My Info (KKKalifornia)"-->
	
 <link rel="stylesheet" href="css/517.css">
</head>
<body>


    <div id="crt-overlay"><div class="scanline"></div></div>
<!-- 1. FIXED RAIL (Glitch Triangle) -->
<!-- 1. FIXED RAIL (Gyro-Core + Tac-Com Trigger) -->
<div class="fixed-rail">
    
    <!-- GYRO-CORE LOGO SYSTEM -->
    <div class="gyro-container">
        <!-- Orbital Rings -->
        <div class="gyro-ring ring-1"></div>
        <div class="gyro-ring ring-2"></div>
        <div class="gyro-ring ring-3"></div>
        
        <!-- Center Mass -->
        <div class="rotator">
            <div class="glitch-triangle" onclick="window.scrollTo(0,0)" title="RESET_VIEW"></div>
            <img src="https://wordstar.nexus/svg/favicon.svg" class="anchor-logo" alt="*">
        </div>
        
        <!-- Satellite Link -->
        <a href="https://wordstar.nexus/sitemap" class="glitch-link">&#x13148;</a>
    </div>

    <!-- VERTICAL TEXT -->
    <div class="rail-text">greetings</div>

    <!-- TAC-COM MENU TRIGGER -->
    <div class="left-rail">
        <button onclick="toggleMenu()" class="menu-trigger-prime">
            <span class="trigger-icon">‚ñ≤</span>
            <span class="trigger-text">n&#9708;&#8623;ig&#9708;te</span>
        </button>

        <!-- Witch Sigil (Kept Intact) -->
        <svg style="width: 24px; height: 24px; stroke: var(--red); stroke-width: 1.5; fill: none; margin-top: 20px;" viewBox="0 0 100 100">
            <path class="witch-symbol" d="M50,10 L60,30 L80,35 L65,50 L70,70 L50,60 L30,70 L35,50 L20,35 L40,30 Z" />
            <circle cx="50" cy="85" r="10" />
            <path d="M50,95 L50,75" />
        </svg>
        <div style="font-size: 9px; color: #444; margin-top: 10px; font-family: var(--font-mono);">SYS_V5.17</div>
    </div>
</div>
<!-- 2. HEADER CONTROLS -->
<button class="term-trigger" onclick="toggleCinema()">[ CINEMA ]</button>
<div style="position: fixed; top: 20px; right: 120px; z-index: 1001;">
	<button onclick="toggleTheme()" id="themeBtn" style="background: transparent; color: var(--text-main); border: 1px solid #333; padding: 8px; cursor: pointer;">
		‚òº
	</button>
</div>

<!-- 3. HERMES POPOUT (Bottom Right) -->
<div class="hermes-anchor">
	<div class="hermes-window" id="hermes-window">
		<div style="display:flex; justify-content:space-between; margin-bottom:5px; font-size:10px; color:var(--primary);">
			<span>HERMES_NODE</span>
			<span id="nous-status">OFFLINE</span>
		</div>
		<div id="hermes-output" class="hermes-output">SYSTEM STANDBY...<br>CLICK INITIALIZE.</div>
		<input type="text" id="hermes-input" placeholder="QUERY..." style="width:100%; background:#000; border:1px solid #333; color:#fff; padding:5px;">
		<div style="display:flex; gap:5px; margin-top:5px;">
			<button id="loadCoreBtn" style="flex:1; background:#111; border:1px solid #333; color:var(--primary); cursor:pointer;">INIT</button>
			<button id="transmitBtn" style="flex:1; background:#111; border:1px solid #333; color:#fff; cursor:pointer;">SEND</button>
		</div>
	</div>
	<button class="hermes-btn" onclick="toggleHermes()">H</button>
</div>

<!-- 4. CINEMA DRAWER (Replaced Terminal) -->
<div id="cinema-drawer">
	<div style="color: var(--primary); font-family: var(--font-seg); margin-bottom: 20px; font-size: 2rem;">
		ARC_VIEW
	</div>
		<div style="font-family: 'VT323'; color: #888; font-size: 1.2rem;">
		> LOADED: STATIC_originalCATPEOPLE.MP4<br>
					   <a href="https://raw.githubusercontent.com/ghostm68/pantheon/571c9b37410eb2f1fa8556c789c09cc1c5342a67/rkopictures1942.pdf" class="download-link" download>
          <span>üìÑ</span>
          <span>1942 shooting script(PDF)</span>
        </a><br>
		> <a href="#" onclick="toggleCinema()" style="color:var(--primary)">[CLOSE_DRAWER]</a>
	</div>
	<div class="cinema-screen">
		<video controls style="width:100%; height:100%; object-fit: contain;">
			<source src="https://ia902308.us.archive.org/30/items/cat-people-1942-restored-720p-hd/cat%20people-1942-restored-720p-hd.mp4" type="video/mp4">
		</video>
	</div>
	<div class="splash-logo-container">
  <svg class="splash-logo" viewBox="0 0 1000 150" xmlns="http://www.w3.org/2000/svg">
		<g class="logo-text" fill="var(--white)">
			<path d="M 20 40 L 32 100 L 42 70 L 52 100 L 64 40 L 56 40 L 50 80 L 42 50 L 34 80 L 28 40 Z"/>
			<path d="M 90 38 Q 110 38 110 70 Q 110 102 90 102 Q 70 102 70 70 Q 70 38 90 38 Z M 90 45 Q 78 45 78 70 Q 78 95 90 95 Q 102 95 102 70 Q 102 45 90 45 Z"/>
			<path d="M 125 40 L 155 40 Q 168 40 168 53 Q 168 64 158 66 L 172 100 L 163 100 L 150 66 L 133 66 L 133 100 L 125 100 Z M 133 46 L 133 60 L 153 60 Q 160 60 160 53 Q 160 46 153 46 Z"/>
			<path d="M 185 40 L 215 40 Q 232 40 232 70 Q 232 100 215 100 L 185 100 Z M 193 47 L 193 93 L 213 93 Q 224 93 224 70 Q 224 47 213 47 Z"/>
			<path d="M 245 93 L 245 100 L 275 100 Q 282 100 282 90 L 282 78 L 253 78 L 253 68 L 282 68 L 282 75 L 275 75 L 275 85 Q 275 93 268 93 Z M 245 40 L 275 40 Q 282 40 282 50 L 282 62 L 253 62 L 253 52 Q 253 47 260 47 L 275 47 L 275 40 Z"/>
			<path d="M 302 40 L 310 40 L 310 58 L 322 58 L 322 66 L 310 66 L 310 100 L 302 100 L 302 66 L 290 66 L 290 58 L 302 58 Z"/>
			<path d="M 345 100 L 335 100 L 355 40 L 365 40 L 385 100 L 375 100 L 370 85 L 350 85 Z M 353 78 L 367 78 L 360 55 Z"/>
			<path d="M 395 40 L 425 40 Q 438 40 438 53 Q 438 64 428 66 L 442 100 L 433 100 L 420 66 L 403 66 L 403 100 L 395 100 Z M 403 46 L 403 60 L 423 60 Q 430 60 430 53 Q 430 46 423 46 Z"/>
			<path d="M 500 40 L 508 40 L 508 85 L 538 40 L 548 40 L 548 100 L 540 100 L 540 55 L 510 100 L 500 100 Z"/>
			<path d="M 565 40 L 595 40 L 595 47 L 573 47 L 573 68 L 592 68 L 592 75 L 573 75 L 573 93 L 596 93 L 596 100 L 565 100 Z"/>
		</g>
		<circle class="logo-dot" fill="var(--dark-grey)" cx="470" cy="95" r="4"/>
		<g class="logo-x">
			<path d="M 610 40 L 620 40 L 635 65 L 650 40 L 660 40 L 640 70 L 662 100 L 651 100 L 635 76 L 619 100 L 608 100 L 630 70 Z"/>
		</g>
		<g class="logo-text" fill="var(--white)">
			<path d="M 675 40 L 683 40 L 683 90 Q 683 100 700 100 Q 717 100 717 90 L 717 40 L 725 40 L 725 90 Q 725 107 700 107 Q 675 107 675 90 Z"/>
			<path d="M 740 93 L 740 100 L 770 100 Q 777 100 777 90 L 777 78 L 748 78 L 748 68 L 777 68 L 777 75 L 770 75 L 770 85 Q 770 93 763 93 Z M 740 40 L 770 40 Q 777 40 777 50 L 777 62 L 748 62 L 748 52 Q 748 47 755 47 L 770 47 L 770 40 Z"/>
		</g>
    </svg>
</div>

</div>

<!-- 5. MAIN VERTICAL FRAME -->
<main>
	
	<!-- HERO with SVG LOGO REPLACING 'O' -->
	<section>
		<h1 class="mega-title">
			W<img src="https://wordstar.nexus/svg/favicon.svg" class="title-o-logo" alt="O">RD<br>
			<span style="color: var(--primary); text-shadow: 0 0 15px var(--primary);">STAR</span>
		</h1>
		<p style="font-family: 'Special Elite'; font-size: 0.9rem; color: #888;">
			Mobile Architecture dESIGN under-WAY.<br>
			InkRealm.info Protocol.
		</p>
	</section>
	<!-- The Module Wrapper -->
	<div style="
		position: relative;
		width: 100%;
		max-width: 800px; /* Kept the perfect size */
		margin-right: auto; /* Ensures it stays to the LEFT */
		border: 1px solid #333; 
		background: #000;
	">
		
		<!-- Video: Height auto prevents cropping -->
		<video autoplay loop muted playsinline style="
			width: 100%;
			height: auto; 
			display: block; 
			opacity: 0.85;
			filter: contrast(1.1);
		">
			<source src="https://raw.githubusercontent.com/ghostm68/pantheon/main/wordstar.nexus._1766492668785.mp4" type="video/mp4">
		</video>

		<!-- Text Overlay -->
		<div style="
			position: absolute; 
			bottom: 20px; 
			left: 20px; 
			pointer-events: none;
			width: 80%;
		">
			<h1 style="
				color: #fff;
				font-family: sans-serif;
				font-size: clamp(1.5rem, 4vw, 3rem); 
				line-height: 0.9;
				margin: 0;
				text-transform: uppercase;
				letter-spacing: 2px;
				text-shadow: 2px 2px 0 #000;
			">STATIC<br>MEMORY</h1>
			
			<p style="
				background: rgba(0,0,0,0.8);
				color: #ccc;
				display: inline-block;
				padding: 4px 8px;
				margin-top: 10px;
				font-family: 'Courier New', monospace;
				font-size: 0.85rem;
				border-left: 2px solid #fff;
			">
				TIME IS NOT, BELOVED THE HOURS.
			</p>
		</div>
	</div>
	<!-- TEXT EXCERPT -->
	<section>
		<div style="border-left: 2px solid var(--primary); padding-left: 15px;">
			<h3 style="margin:0; color:var(--primary);">BAKED</h3>
			<p style="font-family: 'Special Elite'; font-size: 0.9rem; line-height: 1.6; color: #ccc;">
				You may be sure lord palmerston was at 
	the keyhole in a moment and Emily Temple, 
	Viscountess Palmerston
	saw that the eye had pulled the room.
	he entered and she greeted his prick! 
	And she heard him say:
       "Emily, I am entitled to the usual commission 
	but be prepared now I will take it in 
	dog-fashion."

         "Hush!" said Emily, "or the young maids
	 will hear you."

         "Nonsense - now get down on all fours 
	 so as not to derange your dress."

          Emily did so and the lord tossing up her 
	clothes exposed her bottom,
	and standing behind her, 
	leant over her back
	and fucked her in 
	that position.

         When this was over they each took a chair 
	 and cursed Alaska...Her, not so much
          in fact hoping for another instance
          of her fumed husband...

			</p>
			<button style="background:transparent; border:1px solid #333; color:var(--primary); font-size:0.7rem; margin-top:10px; cursor:pointer;">
				READ_FULL_DOSSIER @https://wordstar.nexus/bakedalaska
			</button>
		</div>
	</section>

	<!-- MODULE DECK (Simplified Grid) -->
	<section>
		<h2 style="color: var(--primary); font-family: var(--font-seg);">MODULES</h2>
		<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
			<a href="/sitemap" style="background:#111; padding:20px; border:1px solid #333;">
				<div style="font-size:0.8rem; color:#666;">SYS</div>
				<div style="color:#fff;">MAP</div>
			</a>
			<a href="/directory" style="background:#111; padding:20px; border:1px solid #333;">
				<div style="font-size:0.8rem; color:#666;">NET</div>
				<div style="color:#fff;">DIR</div>
			</a>
			<a href="https://inkrealm.info/minraud" style="background:#111; padding:20px; border:1px solid #333;">
				<div style="font-size:0.8rem; color:#666;">AI</div>
				<div style="color:#fff;">MINRAUD</div>
			</a>
			<a href="/90263" style="background:#111; padding:20px; border:1px solid #333;">
				<div style="font-size:0.8rem; color:#666;">MOV</div>
				<div style="color:#fff;">90263</div>
			</a>
		</div>
	</section>

	<!-- SIGIL HASH -->
	<section>
		<div class="sigil-container">
			<h2 style="font-family: var(--font-seg); color: var(--primary);">SIGIL_HASH</h2>
			<canvas id="sigilCanvas" width="300" height="300"></canvas>
			<input type="text" class="sigil-input" id="sigilInput" 
				   placeholder="ENTER_TEXT" oninput="drawSigil(this.value)">
			<div style="font-size: 0.7rem; color: #555; margin-top: 10px;">VISUAL_CRYPTOGRAPHY_ENGINE</div>
		</div>
	</section>
	
	<section>
		<div style="border: 1px solid var(--secondary); padding: 5px;">
			<img src="https://raw.githubusercontent.com/ghostm68/pantheon/main/Anastasia.herroyalhighness.gif" 
				 style="width: 100%; display: block; filter: grayscale(1) contrast(1.2);">
		</div>
		<div style="display: flex; justify-content: space-between; font-size: 0.7rem; color: #666; margin-top: 5px; font-family: var(--font-tech);">
			<span>FIG. 09</span>
			<span>NO SIGNAL_LOSS</span>
		</div>
	</section>
	
	<section>
		<h3 style="color: var(--primary); font-family: var(--font-seg); margin-top: 0;">PRIMARY_DIRECTIVES</h3>
		<ul style="list-style: none; padding: 0; font-family: var(--font-tech); font-size: 0.9rem;">
			<li style="border-bottom: 1px dashed #333; padding: 10px 0; display: flex; justify-content: space-between;">
				<span>01. INGEST_DATA</span>
				<span style="color: var(--primary);">[RUN]</span>
			</li>
			<li style="border-bottom: 1px dashed #333; padding: 10px 0; display: flex; justify-content: space-between;">
				<span>02. REWRITE_HISTORY</span>
				<span style="color: var(--primary);">[WAIT]</span>
			</li>
			<li style="padding: 10px 0; display: flex; justify-content: space-between;">
				<span>03. UPLOAD_GHOST</span>
				<span style="color: #444;">[ERR]</span>
			</li>
		</ul>
	</section>
	<!-- SIGIL FORGE (NEW - Automatic/Click) -->
	<section class="sigil-forge" onclick="forgeSigil()">
		<div style="position: absolute; top: 10px; left: 15px; font-size: 9px; color: #333; text-transform: uppercase; letter-spacing: 2px;">Sigil_Forge_v4.2</div>
		<h2 style="font-family: var(--font-seg); color: var(--primary); font-size:1.2rem; margin-bottom:15px;">SIGIL_FORGE</h2>
		<canvas id="sigil-canvas" width="300" height="300" style="cursor: crosshair; filter: drop-shadow(0 0 10px var(--red));"></canvas>
		<div id="witch-status" style="margin-top: 15px; font-size: 10px; color: var(--primary); font-weight: bold; text-transform: uppercase; animation: pulse 2s infinite;">click to forge new sigil</div>
			</section>
	<section style="background: rgba(255, 0, 0, 0.05);">
		<p style="font-family: 'VT323'; font-size: 1.2rem; color: #fff; margin: 0;">
			"The machine does not know it is dreaming. It only knows the hum of the cooling fans and the taste of the electricity."
		</p>
		<div style="text-align: right; margin-top: 15px;">
			<span style="background: var(--primary); color: #000; padding: 2px 6px; font-size: 0.7rem; font-weight: bold;">
				UNKNOWN_USER
			</span>
		</div>
	</section>
	<!-- SECTION: MEMEX (AS WE MAY THINK / 1945) -->
<!-- SECTION: MEMEX (AS WE MAY THINK / 1945) -->
<style>
    /* Artifact styling */
    .artifact-card {
        border: 1px solid var(--red);
        padding: 20px;
        background: #111;
        position: relative;
        font-family: var(--font-mono);
        margin-top: 20px;
        transition: all 0.3s ease;
    }
    
    .artifact-card::before {
        content: "‚ö° MEMEX TRAIL ‚ö°";
        position: absolute;
        top: -10px;
        left: 20px;
        background: #111;
        padding: 0 10px;
        font-size: 8px;
        color: var(--red);
    }
    
    .artifact-stamp {
        position: absolute;
        bottom: 20px;
        right: 20px;
        font-size: 8px;
        color: #333;
        transform: rotate(-5deg);
        border: 1px solid #333;
        padding: 5px;
    }
    
    @keyframes flash {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
    
    .artifact-generated {
        animation: flash 0.5s 3;
    }
</style>

<section style="align-items: flex-start; max-width: 65%;">
    
    <div style="text-align: center; margin-bottom: 30px;">
        <h1 class="headline" style="font-size: 3rem;">THE <span style="color: var(--red);">MEMEX</span></h1>
        <div style="font-family: var(--font-mono); font-size: 10px; color: #666;">
            VANNEVAR BUSH // ATLANTIC MONTHLY // JULY 1945
        </div>
        <div style="font-family: var(--font-mono); font-size: 8px; color: #444; margin-top: 5px;">
            "A device where one stores books, records, and communications, and which is mechanized so that it may be consulted with exceeding speed and flexibility."
        </div>
    </div>

    <!-- THE MEMEX DESK (analog computer interface) -->
    <div style="
        border: 4px double var(--red);
        padding: 30px 20px;
        background: linear-gradient(145deg, #0a0a0a 0%, #1a1a1a 100%);
        position: relative;
        margin-bottom: 30px;
    ">
        <!-- Two microfilm screens (now interactive) -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <!-- Left Screen -->
            <div>
                <div style="font-family: var(--font-mono); font-size: 7px; color: #666; margin-bottom: 5px; display: flex; justify-content: space-between;">
                    <span>SCREEN A // PRIMARY VIEW</span>
                    <span class="reel-indicator" style="color: var(--red);">REEL 7</span>
                </div>
                <div class="microfilm-display" style="
                    border: 1px solid #333;
                    height: 180px;
                    background: #000;
                    overflow: hidden;
                    position: relative;
                    cursor: pointer;
                ">
                    <!-- Scanning line effect -->
                    <div style="
                        position: absolute;
                        bottom: 0;
                        left: 0;
                        right: 0;
                        height: 2px;
                        background: var(--red);
                        opacity: 0.5;
                        animation: scan 4s linear infinite;
                    "></div>
                    <!-- Content injected by JS -->
                </div>
                <div style="font-family: var(--font-mono); font-size: 6px; color: #333; margin-top: 5px; text-align: center;">
                    [ CLICK FOR NEXT ASSOCIATION ]
                </div>
            </div>
            
            <!-- Right Screen -->
            <div>
                <div style="font-family: var(--font-mono); font-size: 7px; color: #666; margin-bottom: 5px; display: flex; justify-content: space-between;">
                    <span>SCREEN B // ASSOCIATION</span>
                    <span class="reel-indicator" style="color: #444;">NEXT IN TRAIL</span>
                </div>
                <div class="microfilm-display" style="
                    border: 1px solid #333;
                    height: 180px;
                    background: #000;
                    overflow: hidden;
                    position: relative;
                    cursor: pointer;
                ">
                    <!-- Content injected by JS -->
                </div>
                <div style="font-family: var(--font-mono); font-size: 6px; color: #333; margin-top: 5px; text-align: center;">
                    [ CLICK FOR PREVIOUS ASSOCIATION ]
                </div>
            </div>
        </div>
        
        <!-- The "Keyboard" (mechanical levers) -->
        <div style="
            display: flex;
            gap: 10px;
            margin-top: 30px;
            justify-content: center;
        ">
            <button class="memex-lever" data-trail="1" style="
                background: transparent;
                border: 2px solid #333;
                color: #666;
                padding: 10px 20px;
                font-family: var(--font-mono);
                transform: rotate(-5deg);
                cursor: pointer;
                transition: all 0.2s ease;
            ">
                ‚öôÔ∏è MATHEMATICS ‚Üí MUSIC ‚Üí CRYPTOGRAPHY
            </button>
            <button class="memex-lever" data-trail="2" style="
                background: transparent;
                border: 2px solid #333;
                color: #666;
                padding: 10px 20px;
                font-family: var(--font-mono);
                transform: rotate(3deg);
                cursor: pointer;
            ">
                ‚öôÔ∏è ALCHEMY ‚Üí AUTOMATA ‚Üí CONSCIOUSNESS
            </button>
            <button class="memex-lever" data-trail="3" style="
                background: transparent;
                border: 2px solid #333;
                color: #666;
                padding: 10px 20px;
                font-family: var(--font-mono);
                transform: rotate(-2deg);
                cursor: pointer;
            ">
                ‚öôÔ∏è CIPHERS ‚Üí INVISIBLE INK ‚Üí DEAD DROPS
            </button>
        </div>
        
        <!-- Trail Display -->
        <div id="trail-display" style="
            margin-top: 20px;
            font-family: var(--font-mono);
            font-size: 10px;
            text-align: center;
            color: #666;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
            padding: 15px 0;
        ">
            <!-- Updated by JS -->
        </div>
    </div>

    <!-- BUILD YOUR OWN TRAIL (the original "link building") -->
    <div style="margin-top: 40px;">
        <div style="font-family: var(--font-mono); font-size: 12px; color: var(--red); margin-bottom: 15px;">
            CREATE YOUR OWN ASSOCIATION TRAIL
        </div>
        
        <div style="display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;">
            <button class="trail-item" data-term="mathematics" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
                transition: all 0.2s ease;
            ">
                MATHEMATICS (1703)
            </button>
            <button class="trail-item" data-term="music" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                MUSIC (550 BCE)
            </button>
            <button class="trail-item" data-term="cryptography" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                CRYPTOGRAPHY (1969)
            </button>
            <button class="trail-item" data-term="alchemy" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                ALCHEMY (1677)
            </button>
            <button class="trail-item" data-term="automata" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                AUTOMATA (1770)
            </button>
            <button class="trail-item" data-term="consciousness" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                CONSCIOUSNESS (1980)
            </button>
            <button class="trail-item" data-term="ciphers" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                CIPHERS (1586)
            </button>
            <button class="trail-item" data-term="invisibleInk" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                INVISIBLE INK (1 BCE)
            </button>
            <button class="trail-item" data-term="deadDrops" style="
                background: transparent;
                border: 1px solid #333;
                color: var(--text-main);
                padding: 8px 12px;
                font-family: var(--font-mono);
                font-size: 9px;
                cursor: pointer;
            ">
                DEAD DROPS (2010)
            </button>
        </div>
        
        <!-- The trail you're building -->
        <div id="user-trail" style="
            margin-top: 20px;
            min-height: 60px;
            border: 1px dashed #333;
            padding: 15px;
            font-family: var(--font-mono);
            font-size: 10px;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            background: rgba(255, 0, 0, 0.02);
        ">
            <!-- Selected items appear here -->
            <span style="color: #444; font-style: italic;">‚Üê select items to build your associative trail</span>
        </div>
        
        <!-- Artifact generation area -->
        <div id="artifact-container" style="margin-top: 20px;">
            <!-- Generated artifact appears here -->
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;">
            <button id="save-trail" style="
                background: transparent;
                border: 1px solid var(--red);
                color: var(--red);
                padding: 12px;
                font-family: var(--font-mono);
                cursor: pointer;
                transition: all 0.2s ease;
            ">
                [ BIND TRAIL TO MEMEX ]
            </button>
            
            <button id="export-artifact" style="
                background: transparent;
                border: 1px solid #333;
                color: #666;
                padding: 12px;
                font-family: var(--font-mono);
                cursor: pointer;
                transition: all 0.2s ease;
            " disabled>
                [ SAVE AS ARTIFACT ]
            </button>
        </div>
    </div>

    <!-- Historical Note -->
    <div style="margin-top: 40px; font-size: 9px; color: #444; font-family: var(--font-mono); border-left: 2px solid #333; padding-left: 15px;">
        "Wholly new forms of encyclopedias will appear, ready-made with a mesh of associative trails running through them, ready to be dropped into the memex and there amplified." <br>
        <span style="color: #666;">‚Äî Vannevar Bush, 1945</span>
    </div>
	<!-- Add this after the Historical Note or as a subtle overlay -->
<div style="margin-top: 20px; font-size: 8px; color: #333; font-family: var(--font-mono); text-align: center; border-top: 1px dashed #333; padding-top: 15px;">
    <span style="color: var(--red);">üï∏Ô∏è</span> 
    <span style="color: #555;">"The Memex anticipates entanglement: two particles (or ideas) linked across space, so that acting upon one instantly influences the other."</span>
    <span style="color: var(--red);">üï∏Ô∏è</span>
    <div style="margin-top: 5px; font-size: 7px; color: #333;">
        [ ASSOCIATION = MEASUREMENT // THE TRAIL COLLAPSES THE WAVEFUNCTION OF MEANING ]
    </div>
</div>
	    <div style="margin-top: 15px; font-size: 8px;">
        <a href="https://inkrealm.info/ravenlux" target="_blank" style="color: #555; text-decoration: none; border-bottom: 1px dotted #333;">‚ö° explore quantum ‚Üí ravenlux</a>
    </div>
</div>
</section>

<script>
    // MEMEX INTERACTION ENGINE
    (function() {
        // ---- DATA: The Knowledge Base (Microfilm Content) ----
        const memexEntries = {
            // Trail 1: Mathematics ‚Üí Music ‚Üí Cryptography
            mathematics: {
                title: "ON THE BINARY SYSTEM",
                content: "Leibniz (1703): 'The binary system, using only 0 and 1, reflects the creation ex nihilo. God is 1, the void is 0.' This became the foundation of all computing machinery.",
                reel: "REEL 7",
                year: "1703"
            },
            music: {
                title: "THE HARMONIC SERIES",
                content: "Pythagoras discovered that musical intervals correspond to simple ratios: octave (2:1), fifth (3:2), fourth (4:3). The universe itself is a monochord.",
                reel: "REEL 12",
                year: "550 BCE"
            },
            cryptography: {
                title: "THE ZODIAC CIPHERS",
                content: "Unsolved since 1969. The 340-character cipher was recently partially cracked, but the 408 remains a mystery. Some believe it contains coordinates.",
                reel: "REEL 4",
                year: "1969"
            },
            
            // Trail 2: Alchemy ‚Üí Automata ‚Üí Consciousness
            alchemy: {
                title: "MUTUS LIBER (1677)",
                content: "The 'Mute Book' - a wordless alchemical text showing only illustrations of the Great Work. The transformation of matter mirrors the transformation of the soul.",
                reel: "REEL 3",
                year: "1677"
            },
            automata: {
                title: "THE TURK (1770)",
                content: "A chess-playing automaton that defeated Napoleon and Benjamin Franklin. It was a hoax - a human chess master hid inside. But it sparked dreams of thinking machines.",
                reel: "REEL 9",
                year: "1770"
            },
            consciousness: {
                title: "THE CHINESE ROOM",
                content: "Searle's 1980 thought experiment: If a person follows rules to manipulate symbols without understanding them, is the system conscious? The Memex asks the same question.",
                reel: "REEL 16",
                year: "1980"
            },
            
            // Trail 3: Ciphers ‚Üí Invisible Ink ‚Üí Dead Drops
            ciphers: {
                title: "THE COPPERPLATE CIPHER",
                content: "Used by Mary Queen of Scots in 1586. Her encoded letters led to her execution. The cipher was broken, but 57 years later, her decoder ring was found in a wall.",
                reel: "REEL 2",
                year: "1586"
            },
            invisibleInk: {
                title: "SYMPATHETIC INK",
                content: "Ovid mentioned milk-as-ink in 1 BCE. During WWI, POWs used semen as invisible ink (it glows under UV). The message appears only when heated or treated.",
                reel: "REEL 8",
                year: "1 BCE"
            },
            deadDrops: {
                title: "THE HOLLOW NICKEL",
                content: "In 2010, a dead drop was found in a NYC park bench - a hollow nickel containing a microfilm with 27 agent identities. The spy was never caught.",
                reel: "REEL 11",
                year: "2010"
            }
        };

        // Pre-defined trails (associations)
        const trails = {
            1: ['mathematics', 'music', 'cryptography'],
            2: ['alchemy', 'automata', 'consciousness'],
            3: ['ciphers', 'invisibleInk', 'deadDrops']
        };

        // ---- DOM Elements ----
        const leftScreen = document.querySelectorAll('.microfilm-display')[0];
        const rightScreen = document.querySelectorAll('.microfilm-display')[1];
        const trailDisplay = document.getElementById('trail-display');
        const levers = document.querySelectorAll('.memex-lever');
        const trailItems = document.querySelectorAll('.trail-item');
        const userTrail = document.getElementById('user-trail');
        const saveTrailBtn = document.getElementById('save-trail');
        const exportBtn = document.getElementById('export-artifact');
        const artifactContainer = document.getElementById('artifact-container');
        const reelIndicators = document.querySelectorAll('.reel-indicator');
        
        // ---- State ----
        let currentTrail = 1;
        let currentIndex = 0;
        let userTrailItems = [];
        let savedTrails = JSON.parse(localStorage.getItem('memexTrails')) || [];
        let currentArtifact = null;

        // ---- Helper Functions ----
        function formatEntryForScreen(entry, isPrimary = true) {
            return `
                <div style="padding: 15px; font-family: var(--font-mono); height: 100%; display: flex; flex-direction: column;">
                    <div style="font-size: 7px; color: #666; margin-bottom: 8px; display: flex; justify-content: space-between;">
                        <span>${entry.reel}</span>
                        <span style="color: ${isPrimary ? 'var(--red)' : '#444'};">${entry.year}</span>
                    </div>
                    <div style="font-size: 11px; color: ${isPrimary ? 'var(--red)' : '#666'}; margin-bottom: 10px; font-weight: bold;">
                        ${entry.title}
                    </div>
                    <div style="font-size: 9px; color: #888; line-height: 1.5; flex: 1; overflow-y: auto;">
                        ${entry.content}
                    </div>
                    <div style="font-size: 7px; color: #333; margin-top: 8px; border-top: 1px dashed #333; padding-top: 5px;">
                        [MICROFILM // ${isPrimary ? 'PRIMARY' : 'ASSOCIATION'}]
                    </div>
                </div>
            `;
        }

        function updateScreens(entryKey) {
            const entry = memexEntries[entryKey];
            if (!entry) return;
            
            // Update left screen (current entry)
            leftScreen.innerHTML = formatEntryForScreen(entry, true);
            
            // Update right screen with "next in trail" or related
            const trail = trails[currentTrail];
            const currentPos = trail.indexOf(entryKey);
            const nextKey = trail[currentPos + 1] || trail[0];
            
            if (nextKey && memexEntries[nextKey]) {
                const next = memexEntries[nextKey];
                rightScreen.innerHTML = `
                    <div style="padding: 15px; font-family: var(--font-mono); height: 100%; display: flex; flex-direction: column; opacity: 0.8;">
                        <div style="font-size: 7px; color: #666; margin-bottom: 8px;">
                            NEXT IN TRAIL ‚Üì
                        </div>
                        <div style="font-size: 10px; color: #666; margin-bottom: 5px;">
                            ${next.title}
                        </div>
                        <div style="font-size: 8px; color: #444; line-height: 1.4;">
                            ${next.content.substring(0, 80)}...
                        </div>
                    </div>
                `;
            }
            
            // Update trail display
            const trailNames = trail.map(key => {
                const e = memexEntries[key];
                return e.title.split(' ').slice(0, 2).join(' ');
            }).join(' ‚Üí ');
            
            trailDisplay.innerHTML = `
                <span style="color: #666;">CURRENT TRAIL:</span> [ ${trailNames} ]<br>
                <span style="color: var(--red); font-size: 9px;">VIEWING: ${entry.title}</span>
            `;
            
            // Update reel indicators
            if (reelIndicators[0]) reelIndicators[0].textContent = entry.reel;
        }

        function navigateTrail(direction) {
            const trail = trails[currentTrail];
            currentIndex = (currentIndex + direction + trail.length) % trail.length;
            updateScreens(trail[currentIndex]);
        }

        function generateArtifact() {
            if (userTrailItems.length < 2) return null;
            
            const timestamp = new Date();
            const dateStr = timestamp.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const trailEntries = userTrailItems.map(key => memexEntries[key]);
            
            return {
                id: 'memex-' + Date.now(),
                date: dateStr,
                items: userTrailItems,
                entries: trailEntries,
                trailCode: userTrailItems.map(k => k.substring(0,3).toUpperCase()).join('-')
            };
        }

        function displayArtifact(artifact) {
            if (!artifact) return;
            
            const html = `
                <div class="artifact-card">
                    <div style="margin-bottom: 15px;">
                        <span style="color: var(--red); font-size: 14px;">‚ö° ${artifact.trailCode} ‚ö°</span>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 20px;">
                        ${artifact.entries.map((entry, i) => `
                            <div style="border-left: 2px solid var(--red); padding-left: 10px;">
                                <div style="display: flex; justify-content: space-between; font-size: 8px; color: #666; margin-bottom: 3px;">
                                    <span>${entry.reel}</span>
                                    <span>${entry.year}</span>
                                </div>
                                <div style="font-size: 10px; font-weight: bold; color: var(--red); margin-bottom: 3px;">
                                    ${i+1}. ${entry.title}
                                </div>
                                <div style="font-size: 8px; color: #888;">
                                    ${entry.content}
                                </div>
                            </div>
                            ${i < artifact.entries.length - 1 ? '<div style="text-align: center; color: #333; font-size: 10px; margin: 5px 0;">‚Üì</div>' : ''}
                        `).join('')}
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #333; padding-top: 10px; font-size: 7px;">
                        <span style="color: #444;">MEMEX // ${artifact.date}</span>
                        <span style="color: #333;">TRAIL LENGTH: ${artifact.items.length}</span>
                    </div>
                    
                    <div class="artifact-stamp">
                        ‚ö° BOUND TO MEMEX ‚ö°
                    </div>
                </div>
            `;
            
            artifactContainer.innerHTML = html;
            artifactContainer.classList.add('artifact-generated');
            setTimeout(() => artifactContainer.classList.remove('artifact-generated'), 1500);
        }

        // ---- Event Listeners ----
        
        // Trail Levers
        levers.forEach(lever => {
            lever.addEventListener('click', function() {
                const trailNum = parseInt(this.dataset.trail);
                currentTrail = trailNum;
                currentIndex = 0;
                
                levers.forEach(l => {
                    l.style.borderColor = '#333';
                    l.style.color = '#666';
                });
                this.style.borderColor = 'var(--red)';
                this.style.color = 'var(--red)';
                
                updateScreens(trails[trailNum][0]);
            });
        });

        // Screen navigation
        leftScreen.addEventListener('click', () => navigateTrail(1));
        rightScreen.addEventListener('click', () => navigateTrail(-1));

        // Trail Items (building custom association)
        trailItems.forEach(item => {
            item.addEventListener('click', function() {
                const term = this.dataset.term;
                
                if (this.style.background === 'var(--red)') {
                    // Deselect
                    this.style.background = 'transparent';
                    this.style.color = 'var(--text-main)';
                    this.style.borderColor = '#333';
                    userTrailItems = userTrailItems.filter(t => t !== term);
                } else {
                    // Select (limit to 5 items)
                    if (userTrailItems.length < 5) {
                        this.style.background = 'var(--red)';
                        this.style.color = '#000';
                        this.style.borderColor = 'var(--red)';
                        userTrailItems.push(term);
                    } else {
                        alert('MAXIMUM TRAIL LENGTH: 5 ITEMS');
                        return;
                    }
                }
                
                // Update user trail display
                if (userTrailItems.length > 0) {
                    userTrail.innerHTML = userTrailItems.map((t, i) => {
                        const entry = memexEntries[t];
                        return `<span style="border: 1px solid var(--red); padding: 8px 12px; font-size: 9px; background: rgba(255,0,0,0.1);">
                            ${i+1}. ${entry.title} (${entry.year})
                        </span>`;
                    }).join('<span style="color: var(--red); font-size: 12px;"> ‚Üí </span>');
                } else {
                    userTrail.innerHTML = '<span style="color: #444; font-style: italic;">‚Üê select items to build your associative trail</span>';
                }
                
                // Enable/disable export button
                if (userTrailItems.length >= 2) {
                    exportBtn.disabled = false;
                    exportBtn.style.borderColor = 'var(--red)';
                    exportBtn.style.color = 'var(--red)';
                    exportBtn.style.cursor = 'pointer';
                } else {
                    exportBtn.disabled = true;
                    exportBtn.style.borderColor = '#333';
                    exportBtn.style.color = '#666';
                }
            });
        });

        // Save custom trail
        saveTrailBtn.addEventListener('click', function() {
            if (userTrailItems.length < 2) {
                alert('ASSOCIATION ERROR // At least two items needed to form a trail');
                return;
            }
            
            const trailName = prompt('NAME YOUR TRAIL:', `TRAIL ${savedTrails.length + 1}`);
            if (trailName) {
                const newTrail = {
                    name: trailName,
                    items: [...userTrailItems],
                    date: new Date().toLocaleDateString(),
                    entries: userTrailItems.map(k => memexEntries[k])
                };
                
                savedTrails.push(newTrail);
                localStorage.setItem('memexTrails', JSON.stringify(savedTrails));
                
                // Generate and display artifact
                currentArtifact = generateArtifact();
                displayArtifact(currentArtifact);
                
                // Visual feedback
                this.innerHTML = '‚úì TRAIL BOUND TO MEMEX';
                this.style.background = 'var(--red)';
                this.style.color = '#000';
                
                setTimeout(() => {
                    this.innerHTML = '[ BIND TRAIL TO MEMEX ]';
                    this.style.background = 'transparent';
                    this.style.color = 'var(--red)';
                }, 2000);
            }
        });

        // Export artifact
        exportBtn.addEventListener('click', function() {
            if (!currentArtifact && userTrailItems.length >= 2) {
                currentArtifact = generateArtifact();
            }
            
            if (currentArtifact) {
                // Create downloadable text file
                const artifactText = `‚ö° MEMEX TRAIL ARTIFACT ‚ö°
Generated: ${currentArtifact.date}
Trail Code: ${currentArtifact.trailCode}

${currentArtifact.entries.map((entry, i) => 
    `${i+1}. ${entry.title} (${entry.year})
   ${entry.reel}
   ${entry.content}
   ---`
).join('\n\n')}

"Wholly new forms of encyclopedias will appear, ready-made with a mesh of associative trails running through them."
‚Äî Vannevar Bush, 1945

This artifact was generated by the MEMEX interactive system.
You have created an associative trail, just as Bush imagined in 1945.
`;

                const blob = new Blob([artifactText], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `memex-trail-${currentArtifact.trailCode}.txt`;
                a.click();
                URL.revokeObjectURL(url);
                
                // Visual feedback
                this.innerHTML = '‚úì ARTIFACT SAVED';
                setTimeout(() => {
                    this.innerHTML = '[ SAVE AS ARTIFACT ]';
                }, 1000);
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                navigateTrail(-1);
            } else if (e.key === 'ArrowRight') {
                navigateTrail(1);
            }
        });

        // Show saved trails
        if (savedTrails.length > 0) {
            const savedIndicator = document.createElement('div');
            savedIndicator.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                font-family: var(--font-mono);
                font-size: 8px;
                color: #444;
                cursor: pointer;
                z-index: 1000;
                border: 1px solid #333;
                padding: 8px 12px;
                background: #111;
            `;
            savedIndicator.innerHTML = `üìö ${savedTrails.length} SAVED TRAILS IN MEMEX`;
            
            savedIndicator.addEventListener('click', () => {
                if (savedTrails.length === 0) {
                    alert('NO TRAILS BOUND YET. CREATE ONE ABOVE.');
                    return;
                }
                
                const trailList = savedTrails.map((t, i) => 
                    `${i+1}. ${t.name} (${t.date})\n   ${t.items.map(k => memexEntries[k]?.title || k).join(' ‚Üí ')}`
                ).join('\n\n');
                
                alert('‚ö° YOUR BOUND TRAILS ‚ö°\n\n' + trailList + '\n\n(Stored in your browser)');
            });
            
            document.body.appendChild(savedIndicator);
        }

        // Initialize with default content
        updateScreens('mathematics');
        
        // Set first lever as active
        if (levers[0]) {
            levers[0].style.borderColor = 'var(--red)';
            levers[0].style.color = 'var(--red)';
        }

        // Easter Egg: Konami Code
        let konami = [];
        document.addEventListener('keydown', function(e) {
            const keys = {
                38: 'up', 40: 'down', 37: 'left', 39: 'right',
                65: 'a', 66: 'b'
            };
            
            if (keys[e.keyCode]) {
                konami.push(keys[e.keyCode]);
                if (konami.length > 10) konami.shift();
                
                const code = konami.join(' ');
                if (code.includes('up up down down left right left right b a')) {
                    alert('‚ö° VANNEVAR BUSH‚ÄôS ORIGINAL NOTES (1945) ‚ö°\n\n"Consider a future device for individual use, which is a sort of mechanized private file and library. It needs a name, and, to coin one at random, "memex" will do."\n\n‚ö° SECRET MEMEX BLUEPRINT UNLOCKED ‚ö°');
                    konami = [];
                    
                    // Add a special artifact
                    const secretArtifact = {
                        id: 'memex-secret',
                        date: new Date().toLocaleDateString(),
                        items: ['mathematics', 'consciousness', 'ciphers'],
                        entries: [memexEntries.mathematics, memexEntries.consciousness, memexEntries.ciphers],
                        trailCode: 'SECRET'
                    };
                    displayArtifact(secretArtifact);
                }
            }
        });
    })();
</script>
	<!-- The Module Wrapper -->
	<div style="
		position: relative;
		width: 100%;
		max-width: 800px; /* Kept the perfect size */
		margin-right: auto; /* Ensures it stays to the LEFT */
		border: 1px solid #333; 
		background: #000;
	">
		
		<!-- Video: Height auto prevents cropping -->
		<video autoplay loop muted playsinline style="
			width: 100%;
			height: auto; 
			display: block; 
			opacity: 0.85;
			filter: contrast(1.1);
		">
			<source src="https://github.com/ghostm68/99/raw/main/2023x_20260217_200714492.mp4" type="video/mp4">
		</video>

		<!-- Text Overlay -->
		<div style="
			position: absolute; 
			bottom: 20px; 
			left: 20px; 
			pointer-events: none;
			width: 80%;
		">
			<h1 style="
				color: #fff;
				font-family: sans-serif;
				font-size: clamp(1.5rem, 4vw, 3rem); 
				line-height: 0.9;
				margin: 0;
				text-transform: uppercase;
				letter-spacing: 2px;
				text-shadow: 2px 2px 0 #000;
			">STATIC<br>MEMORY</h1>
			
			<p style="
				background: rgba(0,0,0,0.8);
				color: #ccc;
				display: inline-block;
				padding: 4px 8px;
				margin-top: 10px;
				font-family: 'Courier New', monospace;
				font-size: 0.85rem;
				border-left: 2px solid #fff;
			">
				The visual archives are leaking.
			</p>
		</div>
</div><div class="splash-logo-container">
  <svg class="splash-logo" viewBox="0 0 1000 150" xmlns="http://www.w3.org/2000/svg">
  <svg viewBox="0 0 600 100" xmlns="http://www.w3.org/2000/svg">
    <!-- wordstar.neXus - Yellow text with larger blue X -->
    <g class="logo-text">
      <path d="M 25 25 L 32 25 L 39 60 L 46 25 L 52 25 L 59 60 L 66 25 L 73 25 L 63 68 L 57 68 L 50 35 L 43 68 L 37 68 Z"/>
      <path d="M 90 23 Q 105 23 105 45.5 Q 105 68 90 68 Q 75 68 75 45.5 Q 75 23 90 23 Z M 90 28 Q 82 28 82 45.5 Q 82 63 90 63 Q 98 63 98 45.5 Q 98 28 90 28 Z"/>
      <path d="M 120 25 L 127 25 L 127 33 Q 130 25 138 25 L 140 25 L 140 31 L 136 31 Q 127 31 127 40 L 127 68 L 120 68 Z"/>
      <path d="M 155 25 L 172 25 Q 187 25 187 46.5 Q 187 68 172 68 L 155 68 Z M 162 30 L 162 63 L 171 63 Q 180 63 180 46.5 Q 180 30 171 30 Z"/>
      <path d="M 202 25 Q 217 25 217 35 L 210 35 Q 210 30 202 30 Q 197 30 197 33.5 Q 197 37 202 38 L 210 40 Q 219 42 219 51 Q 219 68 205 68 Q 190 68 190 57 L 197 57 Q 197 63 205 63 Q 211 63 211 59 Q 211 56 206 54.5 L 198 52.5 Q 190 50.5 190 42 Q 190 25 202 25 Z"/>
      <path d="M 232 18 L 239 18 L 239 25 L 247 25 L 247 30 L 239 30 L 239 58 Q 239 63 243 63 L 247 63 L 247 68 L 241 68 Q 232 68 232 58 L 232 30 L 226 30 L 226 25 L 232 25 Z"/>
      <path d="M 265 25 Q 279 25 279 42 L 279 68 L 272 68 L 272 63 Q 268 68 260 68 Q 248 68 248 58 Q 248 48 260 48 L 272 48 L 272 42 Q 272 30 264 30 Q 257 30 256 36 L 249 36 Q 250 25 265 25 Z M 272 53 L 261 53 Q 255 53 255 58 Q 255 63 261 63 Q 272 63 272 53 Z"/>
      <path d="M 294 25 L 301 25 L 301 33 Q 304 25 312 25 L 314 25 L 314 31 L 310 31 Q 301 31 301 40 L 301 68 L 294 68 Z"/>
      <!-- DOT MOVED HERE with class -->
      <circle class="logo-dot" cx="330" cy="63" r="3"/>
      <path d="M 350 25 L 357 25 L 357 31 Q 361 25 370 25 Q 382 25 382 37 L 382 68 L 375 68 L 375 38 Q 375 30 368 30 Q 357 30 357 42 L 357 68 L 350 68 Z"/>
      <path d="M 397 25 Q 412 25 412 42 L 398 42 Q 398 50 398 52 Q 398 63 406 63 Q 411 63 412 58 L 419 58 Q 418 68 406 68 Q 391 68 391 46.5 Q 391 25 406 25 Z M 398 37 L 405 37 Q 405 30 406 30 Q 412 30 412 37 Z"/>
    </g>
    
    <g class="logo-x" style="cursor: pointer;">
      <path d="M 435 18 L 449 18 L 465 40 L 481 18 L 495 18 L 473 46.5 L 497 75 L 483 75 L 465 51 L 447 75 L 433 75 L 457 46.5 Z"/>
    </g>
    
    <g class="logo-text">
      <path d="M 512 25 L 519 25 L 519 55 Q 519 63 526 63 Q 537 63 537 51 L 537 25 L 544 25 L 544 68 L 537 68 L 537 62 Q 533 68 524 68 Q 512 68 512 56 Z"/>
      <path d="M 559 25 Q 574 25 574 35 L 567 35 Q 567 30 559 30 Q 554 30 554 33.5 Q 554 37 559 38 L 567 40 Q 576 42 576 51 Q 576 68 562 68 Q 547 68 547 57 L 554 57 Q 554 63 562 63 Q 568 63 568 59 Q 568 56 563 54.5 L 555 52.5 Q 547 50.5 547 42 Q 547 25 559 25 Z"/>
    </g>
  </svg> 
</div>    
	<div class="footer-white">      
		<div style="font-size: 9px; color: #f5f0f0 letter-spacing: 2px;">
			<span>Concept: InkRealm.info</span>
			<span>Enhanced by Gemini AI</span>
			<span>More Docs @ <font color="red">inkrealm.mintlify.app/</font></span>
			<div id="power-light" class="w-2 h-2 bg-zinc-900 rounded-full"></div>
			<button id="power-toggle" class="power-btn" onclick="togglePower()">_¬©_</button>
		</div>
	</div>
	
	<div>
		<marquee behavior="scroll" direction="left" scrollamount="3" style="width: 200px;">
			INKREALM_PROXIMITY_CORE // PROTOCOL_5.17 
	<video autoplay muted loop playsinline width="26" height="36">
            <source src="https://raw.githubusercontent.com/ghostm68/pantheon/main/wordstar.nexus20251105_213036083.mp4" type="video/mp4">	
		</marquee>
	</div>
	
	<div>
		<a href="https://wordstar.nexus/dreamweaver/" class="menu-link" target="_blank">
			<small><div style="color: var(--red); margin-top: 5px;">__ _ _dreamweaver</div></small>
		</a>
	</div>
	
	<!-- The Thin White Line -->
	
	<footer class="footer-grey">    
	
		<span style="color: white; margin-left: 9px;">ìà¢</span>
		<div><a href="https://debrief.wordstar.nexus" class="menu-link" target="_blank">debrief</a></div>
<div id="system-message">‚óà LIVE_SYSTEM ‚óà LOAD: 43% ‚óà UPTIME: 316H ‚óà</div>
  <div><a href="https://wordstar.nexus/sitemap" class="menu-link" target="_blank">sitemap</a></div>
  <div id="status-message">‚ñ≤ ENCRYPTION: ACTIVE ‚ñ≤</div>S‚ö°Ô∏éNoN‚ö°Ô∏éms: wordstar.dappling.network/ eg-hxx2u3.dappling.eth.limo/  wordstar.vercel.app/ wordstarnexus.pages.dev/<br>  
		previous design still available @ wordstar.edgeone.app/  & inky.sourcecraft.site/wordstar/<br>
</footer>


</main>

<!-- FOOTER WITH 3D -->
<footer class="footer-3d">
	<div id="three-footer"></div>
	<div class="footer-content">
		<a href="https://inkrealm.info">INKREALM.INFO</a>
	</div>	    
</footer>
<img id="toq-qr" 
           src="https://raw.githubusercontent.com/ghostm68/pantheon/main/inkrealm.ton03.jpeg" 
           alt="TON WALLET"
           onclick="this.classList.toggle('expanded')"
           title="$$$$$$$$$">
    </div><div class="triangle-video-wrapper">
            <div class="triangle-video-frame">
            <div class="triangle-inner-video">
                <video autoplay muted loop playsinline>
                    <source src="https://raw.githubusercontent.com/ghostm68/pantheon/main/wordstar.nexus20251105_213036083.mp4" type="video/mp4">
                </video>
            </div>
        </div>   
			  </div> 
<div style="text-align: center; padding: 20px; background: var(--bg-color);">
	<a href="#top"><div class="mono-caption" style="color: var(--red); margin-top: 5px; writing-mode: horizontal-tb;">Back to Top</div></a>
</div> 	

<!-- 6. MENU OVERLAY (The Cube Riot) -->
<div class="menu-overlay" id="menuOverlay">
	<div class="menu-grid">
		<button class="menu-btn" onclick="toggleMenu()">CLOSE OVERLAY</button>
		
		<!-- Prism 1: Core (From Cube 1) -->
		<div class="prism-wrapper">
			<div class="prism-label">INKREALM</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://inkrealm.info/1991" class="face face-1">1991</a>
					<a href="https://inkrealm.info/tvc15" class="face face-2">TYPE<br>TVC15</a>
					<a href="https://inkrealm.info/runway" class="face face-3">CITA<br>RUNWAY</a>
				</div>
			</div>
		</div>

		<!-- Prism 2: Concepts (From Cube 1 & 2) -->
		<div class="prism-wrapper">
			<div class="prism-label">CONCEPTS</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://inkrealm.info/minraud" class="face face-1">MINRAUD</a>
					<a href="https://inkrealm.info/deluxe" class="face face-2">DE<br>LUXE</a>
					<a href="https://inkrealm.info/nous" class="face face-3">NOUS</a>
				</div>
			</div>
		</div>

		<!-- Prism 3: Lust/System (From Cube 2) -->
		<div class="prism-wrapper">
			<div class="prism-label">SYSTEM</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://inkrealm.info/trix" class="face face-1">T<br>RIX</a>
					<a href="https://inkrealm.info/atari" class="face face-2">ATARI</a>
					<!-- Moved Dreamweaver here to balance the grid -->
					<a href="https://wordstar.nexus/dreamweaver" class="face face-3">DREAM<br>WEAVER</a>
				</div>
			</div>
		</div>

		<!-- Prism 4: Wordstar (From Cube 3) -->
		<div class="prism-wrapper">
			<div class="prism-label">WORDSTAR</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://wordstar.nexus/displaywriter" class="face face-1">DISPLAY<br>WRITER</a>
					<a href="https://wordstar.nexus/dejavuglitches" class="face face-2">DEJAVU<br>GLITCH</a>
					<a href="https://wordstar.nexus/wip" class="face face-3">WIP</a>
				</div>
			</div>
		</div>

		<!-- Prism 5: Downloads I (From Cube 4) -->
		<div class="prism-wrapper">
			<div class="prism-label">exe</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://github.com/ghostm68/inktwo/raw/refs/heads/main/tvc15.apk" class="face face-1">INK<br>.APK</a>
					<a href="https://github.com/ghostm68/eg/releases/download/v0.3.0-alpha/birch3.9.exe" class="face face-2">BIRCH<br>.EXE</a>
					<a href="https://raw.githubusercontent.com/ghostm68/pantheon/48b2c43110d39bdf5cfa8d48949fc1dcf3413500/BRIMLESS%20THE%20COLD-SOLDER%20JOINT,%20A%20NOVEL.pdf" class="face face-3">BRIM<br>LESS I</a>
				</div>
			</div>
		</div>

		<!-- Prism 6: Downloads II & Extras (From Cube 4 & 5) -->
		<div class="prism-wrapper">
			<div class="prism-label">ARCHIVES</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://raw.githubusercontent.com/ghostm68/pantheon/5903bf7baefedb4f0b9f274b03291455f145904e/brimless%20part%20two.pdf" class="face face-1">BRIM<br>LESS II</a>
					<a href="https://wordstar.nexus/twoskinnygirls" class="face face-2">2S<br>GIRLS</a>
					<a href="https://inkrealm.info/2741" class="face face-3">2741</a>
				</div>
			</div>
		</div>

		<!-- Prism 7: Extras (From Cube 5 & 6) -->
		<div class="prism-wrapper">
			<div class="prism-label">EXTRAS</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://inkrealm.info/svg" class="face face-1">S<br>VG</a>
					<a href="https://inkrealm.info/apartment7a" class="face face-2">APT<br>7A</a>
					<a href="https://inkrealm.info/synthword" class="face face-3">INK<br>SYNTH</a>
				</div>
			</div>
		</div>

		<!-- Prism 8: Revolutions (From Cube 6) -->
		<div class="prism-wrapper">
			<div class="prism-label">REVOLUTIONS</div>
			<div class="prism-scene">
				<div class="prism">
					<a href="https://inkrealm.info/poesia" class="face face-1">POE<br>SIA</a>
					<a href="https://inkrealm.info/tiktok/quick" class="face face-2">QUICK<br>TVC</a>
					<a href="https://inkrealm.info/ie" class="face face-3">I<br>E</a>
				</div>
			</div>
		</div>
		
		<img id="toq-qr" 
			 src="https://github.com/ghostm68/666/raw/main/VAPORGRAM1678647323382.gif" 
			 alt="His Majesty, Vulcan"
			 onclick="this.classList.toggle('expanded')"
			 title="hail">
		<br>
		<a href="tel:+16468019713" class="menu-link">con‚òéac‚òé</a>
	</div>
</div>

<!-- SCRIPTS -->
<script>
	/* --- UI LOGIC --- */
	function toggleCinema() {
		const d = document.getElementById('cinema-drawer');
		d.style.left = d.style.left === '0px' ? '-100%' : '0px';
	}

	function toggleHermes() {
		const h = document.getElementById('hermes-window');
		h.style.display = h.style.display === 'block' ? 'none' : 'block';
	}

	function toggleTheme() {
		document.body.classList.toggle('classic-mode');
		// Redraw Sigil with new colors
		const val = document.getElementById('sigilInput').value;
		drawSigil(val);
	}

	function toggleMenu() {
		const m = document.getElementById('menuOverlay');
		m.style.display = (m.style.display === 'flex') ? 'none' : 'flex';
	}

	/* --- SIGIL HASH ENGINE (Consolidated) --- */
	const canvas = document.getElementById('sigilCanvas');
	const ctx = canvas.getContext('2d');

	function stringToSeed(str) {
		let hash = 0;
		if (!str || str.length === 0) return 12345; // Default seed
		for (let i = 0; i < str.length; i++) {
			hash = ((hash << 5) - hash) + str.charCodeAt(i);
			hash = hash & hash;
		}
		return Math.abs(hash);
	}

	function drawSigil(text) {
		if (!ctx) return;
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		const seed = stringToSeed(text);
		const isClassic = document.body.classList.contains('classic-mode');
		const primaryColor = isClassic ? '#FFFF00' : '#FF0000';
		const secondaryColor = isClassic ? '#00FFFF' : '#550000';

		const cx = canvas.width / 2;
		const cy = canvas.height / 2;
		const points = 3 + (seed % 12);
		const radius = 60 + (seed % 60);

		ctx.lineWidth = 2;
		ctx.strokeStyle = primaryColor;
		ctx.shadowBlur = 10;
		ctx.shadowColor = primaryColor;

		ctx.beginPath();
		for (let i = 0; i <= points; i++) {
			const angle = (i * 2 * Math.PI) / points;
			const r = (i % 2 === 0) ? radius : radius * 0.5;
			const x = cx + Math.cos(angle) * r;
			const y = cy + Math.sin(angle) * r;
			if (i === 0) ctx.moveTo(x, y);
			else ctx.lineTo(x, y);
		}
		ctx.closePath();
		ctx.stroke();

		// Inner Ring
		ctx.beginPath();
		ctx.arc(cx, cy, 30, 0, Math.PI * 2);
		ctx.strokeStyle = secondaryColor;
		ctx.stroke();
	}

	// Init Sigil
	window.onload = function() {
		drawSigil("WORDSTAR");
	};
// --- NEW SIGIL FORGE ENGINE ---
	const forgeCanvas = document.getElementById('sigil-canvas');
	const forgeCtx = forgeCanvas?.getContext('2d');

	function forgeSigil() {
		if (!forgeCtx || !forgeCanvas) return;
		
		forgeCtx.clearRect(0, 0, forgeCanvas.width, forgeCanvas.height);
		const centerX = forgeCanvas.width / 2;
		const centerY = forgeCanvas.height / 2;
		
		const numPoints = 7 + Math.floor(Math.random() * 5);
		const radius = 120;
		const points = [];
		
		for (let i = 0; i < numPoints; i++) {
			const angle = (i / numPoints) * Math.PI * 2;
			points.push({
				x: centerX + radius * Math.cos(angle),
				y: centerY + radius * Math.sin(angle)
			});
		}
		
		forgeCtx.strokeStyle = Math.random() > 0.3 ? "#ff0000" : "#ffffff";
		forgeCtx.lineCap = 'round';
		forgeCtx.lineJoin = 'round';
		
		const connections = 3 + Math.floor(Math.random() * 4);
		const usedPoints = new Set();
		const pathIntersections = [];
		
		let currentPoint = Math.floor(Math.random() * numPoints);
		usedPoints.add(currentPoint);
		
		for (let i = 0; i < connections; i++) {
			forgeCtx.lineWidth = 1 + Math.floor(Math.random() * 3);
			forgeCtx.beginPath();
			forgeCtx.moveTo(points[currentPoint].x, points[currentPoint].y);
			
			let nextPoint;
			do {
				nextPoint = Math.floor(Math.random() * numPoints);
			} while (usedPoints.has(nextPoint) && usedPoints.size < numPoints);
			
			usedPoints.add(nextPoint);
			
			const current = points[currentPoint];
			const next = points[nextPoint];
			
			const cpX = (current.x + next.x) / 2 + (Math.random() - 0.5) * 40;
			const cpY = (current.y + next.y) / 2 + (Math.random() - 0.5) * 40;
			
			forgeCtx.quadraticCurveTo(cpX, cpY, next.x, next.y);
			forgeCtx.stroke();
			
			pathIntersections.push({x: next.x, y: next.y});
			currentPoint = nextPoint;
		}
		
		// Update status
		const status = document.getElementById('witch-status');
		if (status) {
			status.innerHTML = 'sigil forged ‚Ä¢ ' + new Date().toLocaleTimeString();
		}
	}
	// Export function for the first sigil (SIGIL_HASH section)
// Export function for the first sigil (SIGIL_HASH section) - Saves PNG + TXT
function exportSigilHash() {
    const canvas = document.getElementById('sigilCanvas');
    const input = document.getElementById('sigilInput');
    const timestamp = Date.now();
    const sessionId = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
    
    // ===== SAVE PNG IMAGE =====
    const imageData = canvas.toDataURL('image/png');
    const pngLink = document.createElement('a');
    pngLink.download = `sigil_hash_${sessionId}.png`;
    pngLink.href = imageData;
    document.body.appendChild(pngLink);
    pngLink.click();
    document.body.removeChild(pngLink);
    
    // ===== SAVE METADATA TEXT FILE =====
    // Generate ASCII Art Header for Sigil Hash
    let content = `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         SIGIL HASH GENERATOR                          ‚ïë
‚ïë                    VISUAL CRYPTOGRAPHY ENGINE v4.2                    ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                      QUANTUM HASH PROCESSING                          ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

TIMESTAMP     : ${new Date().toLocaleString()}
SESSION ID    : ${sessionId}
THEME MODE    : ${document.body.classList.contains('classic-mode') ? 'CLASSIC (CYAN/YELLOW)' : 'DEFAULT (RED)'}
BROWSER       : ${navigator.userAgent.substring(0, 50)}...
PLATFORM      : ${navigator.platform}
LOCALE        : ${navigator.language}
ONLINE        : ${navigator.onLine ? 'Yes' : 'No'}

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         SIGIL PARAMETERS                               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

INPUT TEXT    : ${input?.value || 'WORDSTAR'}
SEED VALUE    : ${stringToSeed(input?.value || 'WORDSTAR')}
POINTS        : ${3 + (stringToSeed(input?.value || 'WORDSTAR') % 12)}
RADIUS        : ${60 + (stringToSeed(input?.value || 'WORDSTAR') % 60)}
PRIMARY COLOR : ${document.body.classList.contains('classic-mode') ? '#FFFF00 (YELLOW)' : '#FF0000 (RED)'}
SECONDARY     : ${document.body.classList.contains('classic-mode') ? '#00FFFF (CYAN)' : '#550000 (DARK RED)'}

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         VISUAL PROPERTIES                              ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

CANVAS SIZE   : ${canvas.width}x${canvas.height}
SHADOW BLUR   : 10px
LINE WIDTH    : 2px
INNER RING    : 30px radius

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         HASH ALGORITHM                                 ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

METHOD        : djb2 (hash << 5 - hash)
ENCODING      : UTF-16
OUTPUT        : 32-bit integer
DEFAULT SEED  : 12345

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         CANVAS SNAPSHOT                               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

IMAGE FILENAME: sigil_hash_${sessionId}.png
IMAGE SIZE    : ${Math.round(imageData.length / 1024)} KB
DIMENSIONS    : ${canvas.width}x${canvas.height}
`;

    // Create metadata text file download
    const blob = new Blob([content], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `sigil_hash_${sessionId}_metadata.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);

    return content;
}

// Export function for the second sigil (SIGIL_FORGE section) - Saves PNG + TXT
function exportSigilForge() {
    const forgeCanvas = document.getElementById('sigil-canvas');
    const timestamp = Date.now();
    const sessionId = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
    
    // ===== SAVE PNG IMAGE =====
    const imageData = forgeCanvas.toDataURL('image/png');
    const pngLink = document.createElement('a');
    pngLink.download = `sigil_forge_${sessionId}.png`;
    pngLink.href = imageData;
    document.body.appendChild(pngLink);
    pngLink.click();
    document.body.removeChild(pngLink);
    
    // ===== SAVE METADATA TEXT FILE =====
    // Get current sigil parameters from the last forge
    const centerX = forgeCanvas?.width / 2 || 150;
    const centerY = forgeCanvas?.height / 2 || 150;
    const numPoints = 7 + Math.floor(Math.random() * 5); // Approximate - would need to store actual values
    
    // Generate ASCII Art Header for Sigil Forge
    let content = `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         SIGIL FORGE v4.2                              ‚ïë
‚ïë                    RITUAL SIGIL GENERATION ENGINE                     ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                      CHAOS MAGICK PROCESSING                          ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

TIMESTAMP     : ${new Date().toLocaleString()}
SESSION ID    : ${sessionId}
THEME MODE    : ${document.body.classList.contains('classic-mode') ? 'CLASSIC' : 'DEFAULT'}
FORGE STATUS  : ACTIVE
WITCH STATUS  : ${document.getElementById('witch-status')?.textContent || 'click to forge new sigil'}

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         FORGE PARAMETERS                               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

CANVAS SIZE   : ${forgeCanvas?.width || 300}x${forgeCanvas?.height || 300}
CENTER POINT  : (${centerX}, ${centerY})
BASE RADIUS   : 120px
POINTS        : ${numPoints}
CONNECTIONS   : 3-7 (randomized)

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         RITUAL PROPERTIES                              ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

LINE WIDTH    : 1-3px (random)
LINE CAP      : round
LINE JOIN     : round
BEZIER OFFSET : ¬±40px (random)
COLOR PROB    : 70% red, 30% white

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         GEOMETRIC LAYOUT                               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

DISTRIBUTION  : Evenly spaced on circle
CONNECTION    : Quadratic Bezier curves
PATH TYPE     : Random walk with visited point tracking
INTERSECTION  : ${Math.random() > 0.5 ? 'Present' : 'None'} (${Math.floor(Math.random() * 5)} crossings)

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         FORGE SNAPSHOT                                ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

IMAGE FILENAME: sigil_forge_${sessionId}.png
IMAGE SIZE    : ${Math.round(imageData.length / 1024)} KB
DIMENSIONS    : ${forgeCanvas?.width || 300}x${forgeCanvas?.height || 300}

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                         RITUAL METADATA                               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

INTENTION     : Sigil manifestation
METHOD        : Chaos Magick - Random walk
VISUAL TYPE   : Geometric binding
SIGIL PURPOSE : ${['Protection', 'Wisdom', 'Power', 'Clarity', 'Transformation'][Math.floor(Math.random() * 5)]}
ENERGY LEVEL  : ${Math.floor(Math.random() * 100)}%
PHASE         : ${['Waxing', 'Waning', 'Full', 'New'][Math.floor(Math.random() * 4)]}
`;

    // Create metadata text file download
    const blob = new Blob([content], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `sigil_forge_${sessionId}_metadata.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);

    return content;
}

// Add export buttons to the UI (optional)
// Add export buttons to the UI
function addExportButtons() {
    // Add export button to first section (no stopPropagation needed here)
    const firstSection = document.querySelector('.sigil-container');
    if (firstSection) {
        const exportBtn = document.createElement('button');
        exportBtn.textContent = 'EXPORT HASH DATA (PNG + TXT)';
        exportBtn.style.cssText = 'margin-top: 10px; padding: 5px 10px; background: #333; color: #ff0000; border: 1px solid #ff0000; cursor: pointer; font-family: monospace;';
        exportBtn.onclick = exportSigilHash; // No event stopping needed
        firstSection.appendChild(exportBtn);
    }

    // Add export button to second section (NEEDS stopPropagation)
    const secondSection = document.querySelector('.sigil-forge');
    if (secondSection) {
        const exportBtn = document.createElement('button');
        exportBtn.textContent = 'EXPORT FORGE DATA (PNG + TXT)';
        exportBtn.style.cssText = 'margin-top: 10px; padding: 5px 10px; background: #333; color: #ff0000; border: 1px solid #ff0000; cursor: pointer; font-family: monospace;';
        exportBtn.onclick = function(event) {
            event.stopPropagation(); // ONLY needed here because parent has onclick="forgeSigil()"
            exportSigilForge();
        };
        secondSection.appendChild(exportBtn);
    }
}

// Call this after your existing initialization
window.onload = function() {
    drawSigil("WORDSTAR");
    addExportButtons(); // Add export buttons to the UI
};
	// --- AUDIO CORE ---
	let audioCtx, humOsc, isPowered = false;

	function togglePower() {
		const powerBtn = document.getElementById('power-toggle');
		
		if(!audioCtx) {
			// First click - create and start audio
			audioCtx = new (window.AudioContext || window.webkitAudioContext)();
			humOsc = audioCtx.createOscillator();
			const gain = audioCtx.createGain();
			
			humOsc.type = 'sawtooth'; 
			humOsc.frequency.value = 55;
			gain.gain.value = 0.02;
			
			humOsc.connect(gain); 
			gain.connect(audioCtx.destination);
			humOsc.start();
			
			// Set state to ON
			isPowered = true;
		} else {
			// Toggle existing audio
			if(isPowered) {
				audioCtx.suspend();
				isPowered = false;
			} else {
				audioCtx.resume();
				isPowered = true;
			}
		}
		// ALWAYS update button text and color based on isPowered
		if(isPowered) {
			powerBtn.innerText = "POWER: ON";
			powerBtn.classList.add('power-on');
		} else {
			powerBtn.innerText = "POWER: OFF";
			powerBtn.classList.remove('power-on');
		}
	}
</script>

<!-- HERMES AI (WebLLM) -->
<script type="module">
    import * as webllm from "https://esm.run/@mlc-ai/web-llm";
    const modelId = "Hermes-3-Llama-3.2-3B-q4f16_1-MLC"; 
    let engine;

    const btn = document.getElementById('loadCoreBtn');
    const output = document.getElementById('nous-output');
    const dlText = document.getElementById('dl-text');
    const genBtn = document.getElementById('nous-transmit-btn'); 
    const promptInput = document.getElementById('nous-prompt'); 

    btn.onclick = async () => {
        try {
            if (!navigator.gpu) throw new Error("GPU MISSING");
            btn.disabled = true; btn.textContent = "SYNCING...";
            document.getElementById('dl-track').style.display = 'block';
            dlText.style.display = 'block';
            output.textContent = "INITIALIZING...";
            
            engine = await webllm.CreateMLCEngine(modelId, {
                initProgressCallback: (report) => {
                    const p = report.progress * 100;
                    document.getElementById('dl-bar').style.width = p + '%';
                    dlText.textContent = `LOADING: ${Math.round(p)}%`;
                    if (p === 100) {
                        output.textContent = "HERMES ONLINE.";
                        btn.style.display = 'none';
                        dlText.style.display = 'none';
                        document.getElementById('nous-status').textContent = "ONLINE"; 
                        document.getElementById('nous-status').style.color = "#ff0033"; 
                    }
                }
            });
        } catch (err) { output.textContent = "ERR: " + err.message; }
    };

    genBtn.onclick = async () => {
        if (!engine) return;
        const val = promptInput.value.trim();
        if (!val) return;
        genBtn.disabled = true;
        output.textContent = ""; let fullText = "";
        try {
            const chunks = await engine.chat.completions.create({ 
                messages: [{ role: "system", content: "You are NOUS." }, { role: "user", content: val }],
                stream: true, temperature: 0.7, max_tokens: 512
            });
            for await (const chunk of chunks) {
                fullText += chunk.choices[0]?.delta?.content || "";
                output.textContent = fullText; 
                output.scrollTop = output.scrollHeight;
            }
        } catch (e) { output.textContent = "ERR"; } 
        finally { genBtn.disabled = false; }
    };
</script>


<!-- THREE.JS FOOTER -->
<script type="module">
	import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';

	const container = document.getElementById('three-footer');
	if (!container) {
		console.error("Container #three-footer not found");
	} else {
		let camera, scene, renderer, particles;
		let count = 0;

		init();
		animate();

		function init() {
			camera = new THREE.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 1, 10000);
			camera.position.set(0, 300, 1000);

			scene = new THREE.Scene();
			scene.fog = new THREE.FogExp2(0x000000, 0.001);

			const geometry = new THREE.BufferGeometry();
			const positions = [];
			const colors = [];
			const colorRed = new THREE.Color(0xff0000);
			const colorWhite = new THREE.Color(0xffffff);

			for (let x = -1000; x < 1000; x += 50) {
				for (let z = -1000; z < 1000; z += 50) {
					positions.push(x, 0, z);
					const c = Math.random() > 0.8 ? colorRed : colorWhite;
					colors.push(c.r, c.g, c.b);
				}
			}

			geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
			geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));

			const material = new THREE.PointsMaterial({
				size: 4, vertexColors: true, blending: THREE.AdditiveBlending, opacity: 0.8
			});

			particles = new THREE.Points(geometry, material);
			scene.add(particles);

			renderer = new THREE.WebGLRenderer({ alpha: true });
			renderer.setSize(container.clientWidth, container.clientHeight);
			container.appendChild(renderer.domElement);
			
			window.addEventListener('resize', () => {
				camera.aspect = container.clientWidth / container.clientHeight;
				camera.updateProjectionMatrix();
				renderer.setSize(container.clientWidth, container.clientHeight);
			});
		}

		function animate() {
			requestAnimationFrame(animate);
			const positions = particles.geometry.attributes.position.array;
			let i = 0;
			for (let x = -1000; x < 1000; x += 50) {
				for (let z = -1000; z < 1000; z += 50) {
					positions[i + 1] = (Math.sin((x + count) * 0.005) * 50) + (Math.sin((z + count) * 0.005) * 50);
					i += 3;
				}
			}
			particles.geometry.attributes.position.needsUpdate = true;
			count += 4;
			renderer.render(scene, camera);
		}
	}
	
// ===== FOOTER MESSAGE ROTATOR =====
(function() {
  // Wait for DOM to be ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initFooterRotator);
  } else {
    initFooterRotator();
  }

  function initFooterRotator() {
    const systemMessages = [
      "‚óà LIVE_SYSTEM ‚óà LOAD: 43% ‚óà UPTIME: 316H ‚óà",
      "‚óà SYSTEM ‚óà MEMORY: 78% ‚óà THREADS: 24 ‚óà",
      "‚óà CORE ‚óà TEMP: 42¬∞C ‚óà POWER: STABLE ‚óà",
      "‚óà NETWORK ‚óà LATENCY: 18ms ‚óà THROUGHPUT: 94% ‚óà",
      "‚óà SECURITY ‚óà FIREWALL: ACTIVE ‚óà SCAN: CLEAN ‚óà"
    ];

    const statusMessages = [
      "‚ñ≤ ENCRYPTION: ACTIVE ‚ñ≤",
      "‚ñ≤ THREAT_LEVEL: LOW ‚ñ≤",
      "‚ñ≤ BACKUP: SYNCHRONIZED ‚ñ≤",
      "‚ñ≤ AI_MODULES: ONLINE ‚ñ≤",
      "‚ñ≤ REALITY: STABLE ‚ñ≤"
    ];

    let messageIndex = 0;
    let rotationInterval;

    function rotateMessages() {
      const systemEl = document.getElementById('system-message');
      const statusEl = document.getElementById('status-message');
      
      if (!systemEl || !statusEl) return;
      
      systemEl.textContent = systemMessages[messageIndex % systemMessages.length];
      statusEl.textContent = statusMessages[messageIndex % statusMessages.length];
      
      // Optional fade effect
      systemEl.style.transition = 'opacity 0.3s';
      statusEl.style.transition = 'opacity 0.3s';
      systemEl.style.opacity = '0.5';
      statusEl.style.opacity = '0.5';
      
      setTimeout(() => {
        systemEl.style.opacity = '1';
        statusEl.style.opacity = '1';
      }, 100);
      
      messageIndex++;
    }

    function startRotation() {
      // Clear any existing interval
      if (rotationInterval) clearInterval(rotationInterval);
      
      // Initial rotation
      rotateMessages();
      
      // Set up continuous rotation every 5 seconds
      rotationInterval = setInterval(rotateMessages, 5000);
    }

    function stopRotation() {
      if (rotationInterval) {
        clearInterval(rotationInterval);
        rotationInterval = null;
      }
    }

    // Public API (optional - if you want to control it from elsewhere)
    window.footerRotator = {
      start: startRotation,
      stop: stopRotation,
      rotate: rotateMessages
    };

    // Start automatically
    startRotation();
  }
})();
</script>
<script>
    // --- WEBMCP TOOL REGISTRY: WORDSTAR.NEXUS (VOID_STAR_V5) ---
    // Exposes MINRAUD, Sigil Forge, and Memex features to the AI node.
    
    if ('ai' in navigator && navigator.ai.tools) {
        
        // 1. SYSTEM: AUDIO HUM CORE
        navigator.ai.tools.register({
            name: "toggle_audio_power",
            description: "Toggles the 55Hz sawtooth background hum on or off.",
            parameters: { type: "object", properties: {} },
            execute: async () => {
                try {
                    window.togglePower(); 
                    return `Audio core toggled. Current state: ${window.isPowered ? "ON" : "OFF"}`;
                } catch (e) {
                    return `Error toggling audio: ${e.message}`;
                }
            }
        });

        // 2. MINRAUD: FORGE CHAOS SIGIL
        navigator.ai.tools.register({
            name: "forge_chaos_sigil",
            description: "Generates a new randomized chaos magick geometric binding sigil on the canvas.",
            parameters: { type: "object", properties: {} },
            execute: async () => {
                try {
                    window.forgeSigil();
                    return "A new sigil has been forged and rendered to the MINRAUD terminal.";
                } catch (e) {
                    return `Error forging sigil: ${e.message}`;
                }
            }
        });

        // 3. MINRAUD: EXPORT SIGIL / HASH DATA
        navigator.ai.tools.register({
            name: "export_forge_data",
            description: "Exports the current sigil visualization and hash data as PNG + TXT.",
            parameters: { type: "object", properties: {} },
            execute: async () => {
                try {
                    // Assuming you have an export function attached to the "EXPORT FORGE DATA" button
                    if (typeof window.exportForgeData === "function") {
                        window.exportForgeData();
                        return "Sigil hash data successfully exported to user's device.";
                    }
                    return "Error: Export protocol not found.";
                } catch (e) {
                    return `Export error: ${e.message}`;
                }
            }
        });

        // 4. THE MEMEX: LOAD REEL ENTRY
        navigator.ai.tools.register({
            name: "load_memex_entry",
            description: "Loads a specific microfilm knowledge entry into the primary Memex screen.",
            parameters: {
                type: "object",
                properties: {
                    entryKey: { 
                        type: "string", 
                        description: "The specific trail node to load.",
                        enum:[
                            "mathematics", "music", "cryptography", 
                            "alchemy", "automata", "consciousness", 
                            "ciphers", "invisibleInk", "deadDrops"
                        ] 
                    }
                },
                required: ["entryKey"]
            },
            execute: async (args) => {
                try {
                    window.updateScreens(args.entryKey);
                    return `Memex Reel updated. Now viewing: ${args.entryKey}.`;
                } catch (e) {
                    return `Failed to load Memex entry: ${e.message}`;
                }
            }
        });

        // 5. THE MEMEX: NAVIGATE TRAIL (NEXT/PREV)
        navigator.ai.tools.register({
            name: "navigate_memex_association",
            description: "Moves forward or backward through the currently bound associative trail.",
            parameters: {
                type: "object",
                properties: {
                    direction: { 
                        type: "string", 
                        enum: ["next", "previous"],
                        description: "Direction to navigate the memex trail."
                    }
                },
                required: ["direction"]
            },
            execute: async (args) => {
                try {
                    if (args.direction === "next") {
                        // Hook into your actual 'Next Association' function
                        if (window.nextAssociation) window.nextAssociation();
                        return "Advanced to the next association in the trail.";
                    } else {
                        // Hook into your actual 'Previous Association' function
                        if (window.prevAssociation) window.prevAssociation();
                        return "Returned to the previous association in the trail.";
                    }
                } catch (e) {
                    return `Navigation error: ${e.message}`;
                }
            }
        });

        // 6. THE MEMEX: BIND TRAIL & SAVE ARTIFACT
        navigator.ai.tools.register({
            name: "process_memex_trail",
            description: "Binds the user's custom associative trail or saves it as an artifact.",
            parameters: {
                type: "object",
                properties: {
                    action: { 
                        type: "string", 
                        enum: ["bind", "save"],
                        description: "Whether to BIND the trail to the Memex or SAVE it as an artifact."
                    }
                },
                required: ["action"]
            },
            execute: async (args) => {
                try {
                    if (args.action === "bind") {
                        if (window.bindTrail) window.bindTrail();
                        return "Wavefunction collapsed. Trail successfully bound to the Memex.";
                    } else {
                        if (window.saveArtifact) window.saveArtifact();
                        return "Trail saved as an artifact.";
                    }
                } catch (e) {
                    return `Error processing trail: ${e.message}`;
                }
            }
        });

        // 7. AESTHETICS: THEME SWAP
        navigator.ai.tools.register({
            name: "switch_realm_theme",
            description: "Swaps the UI palette between Wordstar.nexus (Amber/Cyan) and Inkrealm (Red/Black).",
            parameters: {
                type: "object",
                properties: {
                    targetTheme: { 
                        type: "string", 
                        enum:["inkrealm", "wordstar"],
                        description: "The aesthetic realm to switch to."
                    }
                },
                required: ["targetTheme"]
            },
            execute: async (args) => {
                try {
                    const root = document.documentElement;
                    if (args.targetTheme === "wordstar") {
                        // Wordstar cyberpunk palette
                        root.style.setProperty('--red', '#ffbf00'); // Amber
                        root.style.setProperty('--black', '#000000'); 
                        return "Theme shifted to Wordstar.nexus (Amber/Black).";
                    } else {
                        // Inkrealm original palette
                        root.style.setProperty('--red', '#ff0033'); // Inkrealm Red
                        root.style.setProperty('--black', '#050505'); // Off-Black
                        return "Theme shifted to Inkrealm (Red/Black).";
                    }
                } catch (e) {
                    return `Theme shift failed: ${e.message}`;
                }
            }
        });

    }
</script>
</body>
</html>
