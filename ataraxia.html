<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ataraxia - World Building</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>
    <style>
        /* Import and apply Olivetti font */
        @font-face {
            font-family: 'Olivetti';
            src: url('https://cdn.jsdelivr.net/gh/ghostm68/inktwo/fonts/olivetti/olivetti-typewriter-regular.otf') format('opentype');
        }
        * { font-family: 'Olivetti', 'Courier New', monospace; }

        /* Monochrome and Blue Color Scheme */
        body { background: #1a1a1a; color: #e0e0e0; }
        .writing-section { background: #2a2a2a; border: 1px solid #333; }
        #writing-area { background: #1a1a1a; color: #e0e0e0; border: none; }
        .writing-tools button { background: #2a2a2a; border: 1px solid #0066cc; color: #e0e0e0; }
        .settings-group input[type="range"] { accent-color: #0066cc; }

        /* Responsive Layout: Map on right for desktop, below on mobile */
        .app-container { display: flex; height: 100vh; }
        .writing-section, .map-section { flex: 1; }
        @media (max-width: 768px) {
            .app-container { flex-direction: column; }
            .writing-section { order: 1; }
            .map-section { order: 2; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="writing-section">
            <textarea id="writing-area"></textarea>
            <div class="writing-tools">...</div>
        </div>
        <div class="map-section">
            <div id="map"></div>
        </div>
    </div>

    <script>
        // Initialize Map with no Leaflet logo
        const map = L.map('map', { attributionControl: false }).setView([37.8, -96], 4);

        // Limited tile layers: dark (default), light, satellite
        const tileLayers = {
            dark: L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', { attribution: '' }),
            light: L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '' }),
            satellite: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', { attribution: '' })
        };
        tileLayers.dark.addTo(map); // Set dark as default
    </script>
</body>
</html>
