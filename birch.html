<!DOCTYPE html>
<html>
<head>
    <base href="https://wordstar.nexus/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Immerse yourself in the art of screenwriting with Wordstar Nexus. Experience a sleek, distraction-free environment that ignites your creativity and brings your cinematic visions to life. Whether you're crafting an indie gem or the next blockbuster, Wordstar Nexus is your sanctuary for writing scripts with elegance and focus. Step into a world where every word counts." />
    <meta name="keywords" content="screenwriting, screenplay, scriptwriting, elegant writing tools, distraction-free, creativity, movie script, Wordstar Nexus, focused writing environment" />
    <meta name="author" content="Wordstar Nexus Team" />
    <meta property="og:title" content="Wordstar Nexus - The Screenwriter's Sanctuary" />
    <meta property="og:description" content="Discover an inspiring writing space with Wordstar Nexus. Perfect for screenwriters seeking elegance, focus, and creativity." />
    <meta property="og:url" content="https://wordstar.nexus/birch" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Wordstar Nexus - The Screenwriter's Sanctuary" />
    <meta name="twitter:description" content="Unleash your creativity in an elegant, distraction-free environment tailored for screenwriters. Wordstar Nexus is your perfect tool for crafting cinematic masterpieces." />
    <title>Birch: Retro Screenwriter</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Courier New', monospace;
            background-color: #000;
            color: #aaa;
            overflow: auto; /* Changed to auto for visibility */
            background-image: url('https://github.com/ghostm68/pantheon/raw/main/allwork.gif');
            background-size: cover;
            background-position: center;
        }
        #app {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            padding-bottom: 50px; /* Space for footer */
        }
        #toolbar {
            background-color: rgba(34, 34, 34, 0.8);
            padding: 10px;
            display: flex;
            justify-content: space-between;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        #editor {
            flex-grow: 1;
            background-color: rgba(17, 17, 17, 0.9);
            padding: 20px;
            font-size: 16px;
            line-height: 1.5;
            resize: none;
            border: none;
            outline: none;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
            color: #00ff00; /* Changed text color to bright green */
        }
        #status {
            background-color: rgba(34, 34, 34, 0.8);
            padding: 10px;
            font-size: 14px;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
        }
        button {
            background-color: #444;
            color: #ddd;
            border: none;
            padding: 5px 10px;
            margin-right: 5px;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background-color: #555;
        }
        .xperia-element {
            position: absolute;
            pointer-events: none;
        }
        #xperia-top-left {
            top: -30px;
            left: -30px;
            width: 100px;
            height: 100px;
            border-top-left-radius: 50%;
            border: 2px solid cyan;
            border-right: none;
            border-bottom: none;
        }
        #xperia-top-right {
            top: -30px;
            right: -30px;
            width: 100px;
            height: 100px;
            border-top-right-radius: 50%;
            border: 2px solid cyan;
            border-left: none;
            border-bottom: none;
        }
        #xperia-bottom-left {
            bottom: -30px;
            left: -30px;
            width: 100px;
            height: 100px;
            border-bottom-left-radius: 50%;
            border: 2px solid cyan;
            border-right: none;
            border-top: none;
        }
        #xperia-bottom-right {
            bottom: -30px;
            right: -30px;
            width: 100px;
            height: 100px;
            border-bottom-right-radius: 50%;
            border: 2px solid cyan;
            border-left: none;
            border-top: none;
        }
        #container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            height: 100vh;
            gap: 10px;
            padding: 10px;
            box-sizing: border-box;
        }
        .widget {
            background-color: rgba(255,255,255,0.1);
            border: 1px solid #444;
            border-radius: 5px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        #compass {
            grid-column: 2;
            grid-row: 1 / 3;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #status {
            grid-column: 3;
            grid-row: 1 / 3;
        }
        #calendar {
            grid-column: 1;
            grid-row: 1 / 3;
        }
        #map {
            grid-column: 1 / 4;
            grid-row: 3;
        }
        .widget-title {
            font-size: 0.8em;
            margin-bottom: 5px;
            color: #aaa;
        }
        footer {
            position: absolute; /* Ensure the footer is positioned correctly */
            bottom: 0;
            width: 100%;
            background-color: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
            z-index: 10;
            font-family: Arial, sans-serif;
            border-top: 1px solid #444; /* Added border for visibility */
        }
        .footer-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        .footer-link {
            color: #fff;
            text-decoration: none;
            padding: 5px 10px;
            transition: color 0.3s ease;
        }
        .footer-link:hover {
            color: #00aaff;
        }
        .footer-link:active {
            color: #ffaa00;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
</head>
<body>
<div id="app">
    <div class="xperia-element" id="xperia-top-left"></div>
    <div class="xperia-element" id="xperia-top-right"></div>
    <div class="xperia-element" id="xperia-bottom-left"></div>
    <div class="xperia-element" id="xperia-bottom-right"></div>
    <div>
        <div>
            <button onclick="newScript()">New</button>
            <button onclick="exportPDF()">Export PDF</button>
        </div>
        <div style="text-align: center; flex-grow: 1;">
            BIRCH v1.3
        </div>
        <div>
            <div style="display: flex; justify-content: flex-end;">
                <select id="scriptElementDropdown" onchange="insertSelectedElement()">
                    <option value="">Cue</option>
                 <option value="">Action</option>
<option value="">Adaptation</option>
<option value="">ADR (Automated Dialogue Replacement)</option>
<option value="">MOS</option>
<option value="CHARACTER">CHARACTER</option>                    
<option value="">Antagonist</option>
<option value="">Aperture</option>
<option value="">Arc</option>
<option value="">Aspect Ratio</option>
<option value="">Backstory</option>
<option value="">Beat</option>
<option value="">Parenthetical</option>
<option value="">SPLIT SCREEN SHOT</option>
<option value="">TRANSITION</option>
<option value="">Call Sheet</option>
<option value="">Cameo</option>
<option value="">Character Arc</option>
<option value="">Cinematography</option>
<option value="">Climax</option>
<option value="">Close-Up (CU)</option>
<option value="">Cold Open</option>
<option value="">Conflict</option>
<option value="">Continuity</option>
<option value="">Coverage</option>
<option value="">Crawl</option>
<option value="">Cross-Cutting</option>
<option value="">Cut</option>
<option value="">Dailies</option>
<option value="">Deep Focus</option>
<option value="">Diegetic Sound</option>
<option value="">Dialogue</option>
<option value="">Dissolve</option>
<option value="">Dolly Shot</option>
<option value="">Double</option>
<option value="">Dubbing</option>
<option value="">Dutch Angle</option>
<option value="">Establishing Shot</option>
<option value="">Exposition</option>
<option value="">Extreme Close-Up (ECU)</option>
<option value="">Fade In</option>
<option value="">Fade Out</option>
<option value="">Feature Film</option>
<option value="">Flashback</option>
<option value="">Foley</option>
<option value="">Frame</option>
<option value="">French New Wave</option>
<option value="">Genre</option>
<option value="">Green Screen</option>
<option value="">High Angle Shot</option>
<option value="">Hit</option>
<option value="">Holding Shot</option>
<option value="">Jump Cut</option>
<option value="">Long Shot</option>
<option value="">Low Angle Shot</option>
<option value="">MacGuffin</option>
<option value="">Montage</option>
<option value="">Motif</option>
<option value="">Non-Diegetic Sound</option>
<option value="">Off-Screen</option>
<option value="">Overhead Shot</option>
<option value="">Pan</option>
<option value="">Pitch</option>
<option value="">Plot</option>
<option value="">Point of View (POV) Shot</option>
<option value="">Post-Production</option>
<option value="">Pre-Production</option>
<option value="">Producer</option>
<option value="">Protagonist</option>
<option value="">Rough Cut</option>
<option value="">Scene</option>
<option value="">Screenplay</option>
<option value="">Screenwriter</option>
<option value="">Script</option>
<option value="">Sequence</option>
<option value="">Set</option>
<option value="">Setting</option>
<option value="">Shot</option>
<option value="">Shot List</option>
<option value="">Soundtrack</option>
<option value="">Story</option>
<option value="">Storyboard</option>
<option value="">Subplot</option>
<option value="">Super</option>
<option value="">Take</option>
<option value="">Theme</option>
<option value="">Three-Act Structure</option>
<option value="">Tilt</option>
<option value="">Tracking Shot</option>
<option value="">Treatment</option>
<option value="">Voiceover</option>
<option value="">Wide Shot</option>
<option value="">Zoom</option>
<option value="">Rising Action</option>
<option value="">Resolution</option>
<option value="">Subtext</option>
<option value="">Distribution</option>
<option value="">Development</option>
<option value="">Medium Shot (MS)</option>
<option value="">Over-the-Shoulder Shot</option>
<option value="">Reaction Shot</option>
<option value="">Two-Shot</option>
<option value="">Inciting Incident</option>
<option value="">Cross Dissolve</option>
<option value="">Match Cut</option>
<option value="">Smash Cut</option>
<option value="">Eye-Line Match</option>
<option value="">Establishing Shot</option>
<option value="">Master Shot</option>
<option value="">Insert Shot</option>
<option value="">Point-of-View Shot (POV)</option>
<option value="">Tracking Shot</option>
<option value="">Dolly Zoom</option>
<option value="">Whip Pan</option>
<option value="">Slow Motion</option>
<option value="">Time-Lapse</option>
<option value="">Storyboard</option>
<option value="">Animatic</option>
<option value="">Pre-Visualization (Previz)</option>
<option value="">Casting</option>
<option value="">Financing</option>
<option value="">Production Design</option>
<option value="">Costume Design</option>
<option value="">Sound Design</option>
<option value="">Special Effects (SFX)</option>
<option value="">Visual Effects (VFX)</option>
<option value="">Post-Production</option>
<option value="">Editing</option>
<option value="">Color Grading</option>
<option value="">Sound Mixing</option>
<option value="">Distribution</option>
<option value="">Marketing</option>
<option value="">Premiere</option>
<option value="">Festival</option>
<option value="">Theatrical Release</option>
<option value="">Streaming</option>
 <option value="SERIES OF SHOTS - ">SERIES OF SHOTS</option>
<option value="">Character</option>
<option value="">Iris In</option>
<option value="">Iris Out</option>
<option value="">Storyboard Artist</option>
<option value="">Animatic</option>
<option value="">Shot List</option>
<option value="">Pre-Visualization (Previz)</option>
<option value="">Concept Art</option>
<option value="">Production Design</option>
<option value="">Costume Design</option>
<option value="">Storyboard Panel</option>
<option value="">Rough Sketch</option>
<option value="">Thumbnails</option>
<option value="">Keyframe</option>
<option value="">Beat Board</option>
<option value="">Shot Breakdown</option>
<option value="">Continuity Report</option>
<option value="">Call Sheet</option>
<option value="">Shooting Schedule</option>
<option value="">Production Notes</option>
<option value="">Dailies</option>
<option value="">Work Print</option>
<option value="">Fine Cut</option>
<option value="">Picture Lock</option>
<option value="">Sound Design</option>
<option value="">Foley</option>
<option value="">Sound Mix</option>
<option value="">Color Grading</option>
<option value="">Visual Effects (VFX)</option>
<option value="">Special Effects (SFX)</option>
<option value="">Compositing</option>
<option value="">Rendering</option>
<option value="">Mastering</option>
<option value="">Distribution</option>
<option value="">Exhibition</option>
<option value="">Festival Premiere</option>
<option value="">Theatrical Release</option>
<option value="">Streaming</option>
<option value="">Digital Cinema Package (DCP)</option>
<option value="">Aspect Ratio</option>
<option value="">Frame Rate</option>
<option value="">Resolution</option>
<option value="">Codec</option>
<option value="">Metadata</option>
<option value="">Subtitles</option>
<option value="">Closed Captions</option>
<option value="">Dubbing</option>
<option value="">Publicity</option>
<option value="">Promotion</option>
<option value="">Premiere</option>
<option value="">Festival</option>
<option value="">Theatrical Release</option>
<option value="">Streaming</option>
<option value="">VOD (Video on Demand)</option>
<option value="">Blu-ray</option>
<option value="">DVD</option>
<option value="">Digital Cinema Package (DCP)</option>
<option value="">Aspect Ratio</option>
<option value="">Frame Rate</option>
<option value="">Resolution</option>
<option value="">Codec</option>
<option value="">Metadata</option>
<option value="">Localization</option>                    
                </select>
            </div>
        </div>
    </div>
    <textarea id="editor" spellcheck="false" placeholder="INT. COFFEE SHOP - DAY

The aroma of freshly brewed coffee fills the air. JANE (30s, smartly dressed) sits at a corner table, nervously tapping her fingers on a laptop.

JOHN (40s, rugged) enters, scanning the room. He spots Jane and approaches.

JOHN
(smiling)
Hey, you must be Jane?

JANE
(looking up, startled)
Oh! Yes, that's me. John, right?

CUT TO:

EXT. CITY STREET - NIGHT

Jane and John walk side by side, laughing..." oninput="updateStatus()" style="color: #00ff00;"></textarea>
    <div id="status">
        Page: 1 | Format: Film | Words: 0
        <button onclick="document.getElementById('fileInput').click()">Upload Script (.txt or .fountain)</button>
        <input type="file" id="fileInput" style="display: none;" accept=".txt,.fountain" onchange="uploadScript(event)">
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
    const editor = document.getElementById('editor');
    const status = document.getElementById('status');
    let currentFormat = 'film';

    function updateStatus() {
        const words = editor.value.trim().split(/\s+/).length;
        const pages = Math.ceil(words / 250);
        status.innerHTML = `Page: ${pages} | Format: ${currentFormat.charAt(0).toUpperCase() + currentFormat.slice(1)} | Words: ${words}
        <button onclick="document.getElementById('fileInput').click()">Upload Script (.txt or .fountain)</button>
        <input type="file" id="fileInput" style="display: none;" accept=".txt,.fountain" onchange="uploadScript(event)"/>`;
    }

    function newScript() {
        if (confirm('Start a new script? This will erase your current work.')) {
            editor.value = '';
            updateStatus();
        }
    }

    function changeFormat() {
        currentFormat = document.getElementById('format').value;
        updateStatus();
    }

    function exportPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const lines = editor.value.split('\n');
        let y = 20;

        doc.setFont('Courier');
        doc.setFontSize(12);

        lines.forEach(line => {
            if (y > 280) {
                doc.addPage();
                y = 20;
            }
            doc.text(line, 20, y);
            y += 5;
        });

        doc.save('screenplay.pdf');
    }

    function insertScriptElement(element) {
        const start = editor.selectionStart;
        const end = editor.selectionEnd;
        const text = editor.value;
        const before = text.substring(0, start);
        const after = text.substring(end, text.length);
        editor.value = before + element + after;
        editor.selectionStart = editor.selectionEnd = start + element.length;
        editor.focus();
        updateStatus();
    }

    function insertSelectedElement() {
        const dropdown = document.getElementById('scriptElementDropdown');
        const selectedElement = dropdown.value;
        if (selectedElement) {
            insertScriptElement(selectedElement);
            dropdown.selectedIndex = 0; // Reset dropdown to default option
        }
    }
    
    function insertRandomName() {
        const nameType = document.getElementById('format').value;
        let name = '';
        
        switch(nameType) {
            case 'male':
                name = getRandomMaleName();
                break;
            case 'female':
                name = getRandomFemaleName();
                break;
            case 'unisex':
                name = getRandomUnisexName();
                break;
            default:
                return;
        }
        
        insertScriptElement(name.toUpperCase());
    }

    function getRandomMaleName() {
        const maleNames = ['James', 'John', 'Robert', 'Michael', 'William', 'David', 'Richard', 'Joseph', 'Thomas', 'Charles'];
        return maleNames[Math.floor(Math.random() * maleNames.length)];
    }

    function getRandomFemaleName() {
        const femaleNames = ['Mary', 'Patricia', 'Jennifer', 'Linda', 'Elizabeth', 'Barbara', 'Margaret', 'Susan', 'Dorothy', 'Lisa'];
        return femaleNames[Math.floor(Math.random() * femaleNames.length)];
    }

    function getRandomUnisexName() {
        const unisexNames = ['Alex', 'Jordan', 'Taylor', 'Casey', 'Riley', 'Jessie', 'Avery', 'Emerson', 'Peyton', 'Quinn'];
        return unisexNames[Math.floor(Math.random() * unisexNames.length)];
    }
    
    function uploadScript(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                editor.value = e.target.result;
                updateStatus();
            };
            reader.readAsText(file);
        }
    }
    
    updateStatus();

    // Add event listeners for keydown to handle tab key
    editor.addEventListener('keydown', function(e) {
        if (e.key === 'Tab') {
            e.preventDefault();
            const start = this.selectionStart;
            const end = this.selectionEnd;

            this.value = this.value.substring(0, start) + "    " + this.value.substring(end);
            this.selectionStart = this.selectionEnd = start + 4;
        }
    });

    // Ensure the textarea is not read-only
    editor.readOnly = false;

    // Remove the force re-render code as it's not necessary and might cause issues
    // Instead, we'll add a small delay to ensure the textarea is properly initialized
    setTimeout(() => {
        editor.focus();
    }, 100);
</script>

</body>
</html>
