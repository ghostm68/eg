<!DOCTYPE html>
<html lang="en" class="ðŸ‘—">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ink realm</title>
  
  <!-- SEO and Meta -->
  <meta name="description" content="writer - musician - visual artist at work on several projects.">
  <meta name="keywords" content="creative, writing, visual arts, download, music, poetry, film, unique, band">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nova+Mono&family=Special+Elite&family=Advent+Pro:wght@400;700&family=VT323&display=swap" rel="stylesheet">
  
  <!-- Scripts -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    :root { --red: #ff0000; --black: #050505; --grey: #1a1a1a; --white: #ffffff; }
    body { 
      background: var(--black); 
      color: var(--white); 
      font-family: 'Nova Mono', monospace; 
      margin: 0; 
      overflow: hidden; 
      height: 100vh; 
    }

    /* CRT Scanline Overlay */
    body::after {
      content: " "; 
      display: block; 
      position: absolute; 
      top: 0; 
      left: 0; 
      bottom: 0; 
      right: 0;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                  linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 0, 0, 0.01), rgba(0, 0, 0, 0.03));
      z-index: 999; 
      background-size: 100% 3px, 3px 100%; 
      pointer-events: none;
    }

    .app-grid { 
      display: grid; 
      grid-template-columns: 200px 1fr; 
      grid-template-rows: 50px 1fr 320px 30px; 
      height: 100vh; 
    }
    
    header { 
      grid-column: span 2; 
      border-bottom: 1px solid var(--red); 
      background: #000; 
      z-index: 50; 
    }
    
    .sidebar { 
      background: #0a0a0a; 
      border-right: 1px solid #222; 
      overflow-y: auto; 
      padding: 20px; 
    }
    
    #viewport { 
      background: #000; 
      position: relative; 
      border-bottom: 1px solid var(--red);
      overflow: hidden;
    }
    
    /* NARROW CHAT SECTION */
    .chat-section { 
      grid-column: span 1; 
      background: var(--red); 
      color: var(--white); 
      display: flex; 
      flex-direction: column; 
      width: 200px; /* Narrow width */
    }
    
    /* WIDE WITCH SECTION */
    .witch-section { 
      grid-column: span 1; 
      background: #000; 
      display: flex; 
      flex-direction: column; 
      border-left: 1px solid #222;
    }
    
    .editor-header { 
      background: #1a1a1a; 
      border-bottom: 1px solid #000; 
      padding: 8px 15px; 
      font-family: 'Special Elite', serif; 
      font-size: 11px; 
      color: var(--white); 
      letter-spacing: 1px; 
      height: 36px;
      display: flex;
      align-items: center;
    }
    
    /* CHAT MESSAGES AREA */
    #chat-container { 
      flex-grow: 1; 
      padding: 10px 12px; 
      font-family: 'VT323', monospace; 
      font-size: 1rem; 
      line-height: 1.2; 
      overflow-y: auto; 
      color: var(--white); 
      background: var(--red);
      min-height: 0; /* Important for flex children */
    }
    
    /* CHAT INPUT AREA - FIXED AT BOTTOM */
    .chat-input-area {
      background: #1a1a1a;
      border-top: 1px solid #333;
      display: flex;
      padding: 8px;
      height: 50px;
      flex-shrink: 0;
    }
    
    .witch-svg { 
      width: 80px; 
      height: 80px; 
      stroke: var(--red); 
      stroke-width: 1.5; 
      fill: none; 
      margin: 0 auto 15px;
    }
    
    .link-item {
      font-size: 10px;
      color: var(--white);
      padding: 3px 0;
      cursor: pointer;
      transition: 0.2s;
      text-transform: uppercase;
      border-bottom: 1px solid #333;
    }
    
    .link-item:hover {
      color: var(--red);
      text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
      border-bottom-color: var(--red);
    }
    
    footer { 
      grid-column: span 2; 
      background: #000; 
      border-top: 1px solid #222; 
      font-size: 9px; 
      color: #555; 
      display: flex; 
      align-items: center; 
      justify-content: space-between; 
      padding: 0 20px; 
    }
    
    /* Video Styling */
    .video-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.8;
      mix-blend-mode: screen;
    }
    
    /* QR Code Styling */
    #ton-qr {
      width: 60px;
      border: 1px solid var(--white);
      padding: 2px;
      background: #000;
      cursor: zoom-in;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
      position: relative;
      z-index: 10001;
    }
    
    #ton-qr:hover {
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
      border-color: var(--red);
    }
    
    #ton-qr.expanded {
      transform: scale(3.5);
      z-index: 999999;
      border-color: var(--white);
      box-shadow: 0 0 100px rgba(0, 0, 0, 0.9), 0 0 50px rgba(255, 255, 255, 0.8);
      cursor: zoom-out;
    }
    
    /* Chat Bubbles */
    .chat-bubble {
      margin: 6px 0;
      padding: 8px;
      border-radius: 3px;
      max-width: 100%;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      word-wrap: break-word;
    }
    
    .user-message {
      background: #1a1a1a;
      color: var(--white);
      margin-left: auto;
      text-align: right;
      border-color: rgba(255, 255, 255, 0.2);
    }
    
    .bot-message {
      background: #000;
      color: var(--white);
      border-color: rgba(255, 0, 0, 0.2);
    }
    
    /* Splash Screen */
    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: 'Special Elite', serif;
      color: var(--white);
      text-align: center;
      padding: 40px;
      cursor: pointer;
    }
    
    .splash-text {
      font-size: 1.2rem;
      line-height: 1.6;
      max-width: 600px;
      color: var(--white);
      text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
    }
    
    .splash-title {
      font-size: 2.5rem;
      margin-bottom: 40px;
      letter-spacing: 5px;
      text-transform: uppercase;
      color: var(--red);
      animation: glitch 3s infinite;
    }
    
    @keyframes glitch {
      0%, 100% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
    }
    
    /* Witch Symbol */
    .witch-symbol {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: draw 5s ease-in-out infinite;
    }
    
    @keyframes draw {
      0% { stroke-dashoffset: 1000; }
      50% { stroke-dashoffset: 0; }
      100% { stroke-dashoffset: 1000; }
    }
    
    /* Input Styling */
    #chat-input {
      background: #000;
      color: var(--white);
      border: 1px solid #333;
      font-size: 0.9rem;
      padding: 8px 10px;
      width: 100%;
      font-family: 'VT323', monospace;
    }
    
    #chat-input:focus {
      outline: none;
      border-color: var(--red);
    }
    
    #chat-input::placeholder {
      color: #666;
      font-size: 0.8rem;
    }
    
    /* Send Button */
    .send-button {
      background: #000;
      color: var(--white);
      border: 1px solid #333;
      border-left: none;
      transition: all 0.2s;
      font-size: 0.9rem;
      padding: 0 12px;
      min-width: 40px;
      cursor: pointer;
    }
    
    .send-button:hover {
      background: var(--red);
      border-color: var(--red);
    }
    
    /* Status Text */
    .status-text {
      color: #888;
    }
    
    .status-text:hover {
      color: var(--red);
    }
    
    /* Social Feed Container */
    .social-feed-container {
      width: 100%;
      height: 180px;
      border: 1px solid #333;
      margin: 10px 0;
      overflow: hidden;
    }
    
    /* Witch Grid */
    .witch-grid {
      display: flex;
      flex-direction: column;
      height: 100%;
      padding: 15px;
    }
    
    .witch-top {
      flex-shrink: 0;
      text-align: center;
      margin-bottom: 10px;
    }
    
    .witch-middle {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    
    .witch-bottom {
      flex-shrink: 0;
      margin-top: 10px;
    }
    
    /* Grid container for bottom section */
    .bottom-container {
      display: grid;
      grid-template-columns: 200px 1fr;
      grid-column: span 2;
      border-top: 1px solid var(--red);
      height: 320px;
    }
    
    /* Scrollbars */
    #chat-container::-webkit-scrollbar,
    .sidebar::-webkit-scrollbar {
      width: 4px;
    }
    
    #chat-container::-webkit-scrollbar-track,
    .sidebar::-webkit-scrollbar-track {
      background: #000;
    }
    
    #chat-container::-webkit-scrollbar-thumb,
    .sidebar::-webkit-scrollbar-thumb {
      background: var(--red);
      border-radius: 2px;
    }
    
    /* Section labels */
    .section-label {
      font-size: 9px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 8px;
    }
    
    /* Support section */
    .support-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 5px;
    }
    
    /* Message count */
    .message-count {
      margin-left: auto;
      color: #666;
      font-size: 0.7rem;
    }
  </style>
</head>

<body>
<!-- Splash Screen -->
<div id="splash-screen" class="splash-screen">
  <div class="splash-title">#3k</div>
  <div class="splash-text">
    ...The heron is homing, the plover is still,.<br>
    The night-owl calls from his haunt on the hill,.<br>
    Afar the fox barks, afar the stars peep,â€”.<br>
    Little brown baby of mine, go to sleep.
  </div>
  <div style="margin-top: 30px; font-size: 0.8rem; color: #666;">
    click to enter
  </div>
</div>

<!-- Main App -->
<div class="app-grid" style="display: none;">
  <header class="flex items-center justify-between px-6">
    <div class="flex items-center gap-4">
      <div class="w-2 h-2 bg-red-600 rounded-full animate-pulse"></div>
      <h1 class="text-white font-bold tracking-tighter text-md uppercase">ink_realm_v4.5</h1>
    </div>
    <div class="flex gap-4">
      <button onclick="clearChat()" class="text-[10px] border border-zinc-800 px-3 py-1 hover:border-red-600 text-white">CLEAR_LOG</button>
      <button onclick="exportChat()" class="text-[10px] border border-zinc-800 px-3 py-1 hover:border-red-600 text-white">EXPORT_LOG</button>
    </div>
  </header>

  <aside class="sidebar">
    <div class="section-label">Navigation_Portal</div>
    <div class="link-item" onclick="window.open('https://inkrealm.info/cloud', '_blank')">CLOUD</div>
    <div class="link-item" onclick="window.open('https://inkrealm.info/2024', '_blank')">LINK_HUB</div>
    <div class="link-item" onclick="window.open('https://www.inkrealm.info', '_blank')">DOMAIN</div>
    <div class="link-item" onclick="window.open('https://is.nota.live/@Inkrealm', '_blank')">MASTODON</div>
    <div class="link-item" onclick="window.open('https://partyrock.aws/u/Inkrealm/Hm8CrqFrG/Nexus-Universe-Explorer', '_blank')">NEXUS_APP</div>
    
    <div class="section-label mt-6">Quick_Links</div>
    <div class="link-item" onclick="window.open('https://ko-fi.com/inkrealm', '_blank')">KO-FI</div>
    <div class="link-item" onclick="window.open('https://inkrealm.instatus.com/', '_blank')">STATUS</div>
    <div class="link-item" onclick="window.open('tel:+16468019713', '_blank')">CONTACT</div>
    <div class="link-item" onclick="window.open('https://www.amazon.com/Ink-Realm-ebook/dp/B0BSSGXNDR', '_blank')">BOOK</div>
    
    <!-- TON QR Code -->
    <div class="mt-6">
      <div class="section-label">TON_WALLET</div>
      <img id="ton-qr" 
           src="https://raw.githubusercontent.com/ghostm68/pantheon/main/inkrealm.ton03.jpeg" 
           alt="TON WALLET"
           onclick="this.classList.toggle('expanded')"
           title="Click to Enlarge">
      <div class="text-[8px] text-zinc-700 mt-1">UQAc99MvKIcewbQFmOF_RvqpkAXZno0wiz3_BMsP87pJjSnB</div>
    </div>
  </aside>

  <main id="viewport">
    <video class="video-bg" src="https://github.com/ghostm68/pantheon/raw/main/inkrealm.info_1696009559686.mp4" muted autoplay loop></video>
    <div class="overlay"></div>
  </main>

  <!-- BOTTOM SECTION -->
  <div class="bottom-container">
    <!-- LEFT: NARROW CHAT SECTION (200px) -->
    <section class="chat-section">
      <div class="editor-header">
        >> AI_CHAT
        <span class="message-count" id="message-count">0</span>
      </div>
      
      <!-- CHAT MESSAGES AREA -->
      <div id="chat-container"></div>
      
      <!-- CHAT INPUT AREA -->
      <div class="chat-input-area">
        <input type="text" 
               id="chat-input" 
               placeholder="Type message..."
               onkeypress="if(event.key === 'Enter') sendMessage()">
        <button onclick="sendMessage()" 
                class="send-button">
          SEND
        </button>
      </div>
    </section>

    <!-- RIGHT: WIDE WITCH SECTION -->
    <section class="witch-section">
      <div class="witch-grid">
        <!-- Witch Protection Area -->
        <div class="witch-top">
          <div class="section-label">Witch_Protection_Grid</div>
          <svg class="witch-svg" viewBox="0 0 100 100">
            <path class="witch-symbol" d="M50,10 L60,30 L80,35 L65,50 L70,70 L50,60 L30,70 L35,50 L20,35 L40,30 Z" />
            <circle cx="50" cy="85" r="10" />
            <path d="M50,95 L50,75" />
          </svg>
          <div id="witch-status" class="text-[8px] text-zinc-700 mt-2 uppercase status-text">Protected</div>
        </div>
        
        <!-- Social Feed -->
        <div class="witch-middle">
          <div class="section-label">Social_Feed</div>
          <div class="social-feed-container">
            <iframe src="https://widget.taggbox.com/143946" style="width:100%;height:100%;border:none;"></iframe>
          </div>
        </div>
        
        <!-- Support Section -->
        <div class="support-section">
          <div class="text-center">
            <div class="text-[8px] text-zinc-600 mb-1">Support System</div>
            <form action="https://www.paypal.com/donate" method="post" target="_top" class="inline-block">
              <input type="hidden" name="hosted_button_id" value="25TNRCZBZ6N36" />
              <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" 
                     border="0" name="submit" title="PayPal - The safer, easier way to pay online!" 
                     alt="Donate with PayPal button" />
            </form>
          </div>
          
          <!-- Marquee -->
          <div class="mt-2 w-full">
            <div class="text-[7px] text-zinc-700">
              <marquee>+inna | TON: UQAc99MvKIcewbQFmOF_RvqpkAXZno0wiz3_BMsP87pJjSnB | Protected by witches</marquee>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <footer>
    <div class="text-zinc-600">SYSTEM: PROTECTED BY WITCHES // TON: UQAc99MvKIcewbQFmOF_RvqpkAXZno0wiz3_BMsP87pJjSnB</div>
    <div class="flex gap-4 uppercase italic text-zinc-500">
      <span>InkRealm Construct</span><span>|</span><span>Selective Creative Endeavor</span>
    </div>
  </footer>
</div>

<script>
  // Splash Screen
  document.getElementById('splash-screen').addEventListener('click', function() {
    this.style.opacity = '0';
    this.style.transition = 'opacity 0.5s';
    document.querySelector('.app-grid').style.display = 'grid';
    setTimeout(() => {
      this.style.display = 'none';
    }, 500);
  });

  // Chat Bot with Pollinations AI
  let messageCount = 0;
  const chatHistory = [];

  async function sendMessage() {
    const input = document.getElementById('chat-input');
    const message = input.value.trim();
    
    if (!message) return;
    
    // Add user message
    const userBubble = document.createElement('div');
    userBubble.className = 'chat-bubble user-message';
    userBubble.textContent = message;
    document.getElementById('chat-container').appendChild(userBubble);
    
    // Add to history
    chatHistory.push({ role: 'user', content: message });
    messageCount++;
    updateMessageCount();
    
    // Clear input
    input.value = '';
    
    // Show typing indicator
    const typingIndicator = document.createElement('div');
    typingIndicator.className = 'chat-bubble bot-message';
    typingIndicator.textContent = '...';
    typingIndicator.id = 'typing-indicator';
    document.getElementById('chat-container').appendChild(typingIndicator);
    document.getElementById('chat-container').scrollTop = document.getElementById('chat-container').scrollHeight;
    
    try {
      // Pollinations AI call
      const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(message)}?model=gpt4`);
      const aiResponse = await response.text();
      
      // Remove typing indicator
      document.getElementById('typing-indicator').remove();
      
      // Add AI response
      const botBubble = document.createElement('div');
      botBubble.className = 'chat-bubble bot-message';
      botBubble.textContent = aiResponse;
      document.getElementById('chat-container').appendChild(botBubble);
      
      // Add to history
      chatHistory.push({ role: 'assistant', content: aiResponse });
      messageCount++;
      updateMessageCount();
      
    } catch (error) {
      // Remove typing indicator
      document.getElementById('typing-indicator').remove();
      
      // Show error
      const errorBubble = document.createElement('div');
      errorBubble.className = 'chat-bubble bot-message';
      errorBubble.textContent = 'Error: Signal interference.';
      document.getElementById('chat-container').appendChild(errorBubble);
    }
    
    // Scroll to bottom
    document.getElementById('chat-container').scrollTop = document.getElementById('chat-container').scrollHeight;
    saveChat();
  }

  function updateMessageCount() {
    document.getElementById('message-count').textContent = messageCount;
  }

  function clearChat() {
    if (confirm("Clear all chat history?")) {
      document.getElementById('chat-container').innerHTML = '';
      messageCount = 0;
      chatHistory.length = 0;
      updateMessageCount();
      localStorage.removeItem('inkrealm_chat');
    }
  }

  function exportChat() {
    const chatText = chatHistory.map(msg => `${msg.role.toUpperCase()}: ${msg.content}`).join('\n\n');
    const blob = new Blob([chatText], { type: 'text/plain' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'inkrealm-chat-log.txt';
    a.click();
  }

  function saveChat() {
    localStorage.setItem('inkrealm_chat', JSON.stringify({
      history: chatHistory,
      count: messageCount
    }));
  }

  function loadChat() {
    const saved = localStorage.getItem('inkrealm_chat');
    if (saved) {
      const data = JSON.parse(saved);
      chatHistory.push(...data.history);
      messageCount = data.count;
      
      // Recreate chat display
      const container = document.getElementById('chat-container');
      container.innerHTML = '';
      
      chatHistory.forEach(msg => {
        const bubble = document.createElement('div');
        bubble.className = `chat-bubble ${msg.role === 'user' ? 'user-message' : 'bot-message'}`;
        bubble.textContent = msg.content;
        container.appendChild(bubble);
      });
      
      updateMessageCount();
      container.scrollTop = container.scrollHeight;
    }
  }

  // Witch Protection Animation
  function animateWitch() {
    const status = document.getElementById('witch-status');
    const texts = ['Protected', 'Scanning', 'Warding', 'Secure', 'Charged'];
    let index = 0;
    
    setInterval(() => {
      status.textContent = texts[index];
      index = (index + 1) % texts.length;
    }, 2000);
  }

  // Initialize
  window.onload = function() {
    loadChat();
    animateWitch();
    
    // Auto-hide splash after 5 seconds
    setTimeout(() => {
      if (document.getElementById('splash-screen').style.display !== 'none') {
        document.getElementById('splash-screen').click();
      }
    }, 5000);
  };
</script>
</body>
</html>
