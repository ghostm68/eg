<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordStar Style Word Processor</title>
    <link rel="stylesheet" href="style-1.css">
</head>
<body>
    <div class="menu-bar">
        <div class="menu-item">File</div>
        <div class="menu-item">Edit</div>
        <div class="menu-item">View</div>
        <div class="menu-item">Help</div>
    </div>

    <div class="sub-menu-bar">
        <div class="sub-menu-item">^O Open</div>
        <div class="sub-menu-item">^S Save</div>
        <div class="sub-menu-item">^C Copy</div>
        <div class="sub-menu-item">^X Cut</div>
        <div class="sub-menu-item">^V Paste</div>
        <div class="sub-menu-item">^B Bold</div>
        <div class="sub-menu-item">^U Underline</div>
        <div class="sub-menu-item">^W Word Count</div>
    </div>

    <div class="text-area" contenteditable="true"></div>

    <div class="function-bar">
        <div class="function-box">Ctrl + S Save</div>
        <div class="function-box">Ctrl + O Open</div>
        <div class="function-box">Ctrl + W Word Count</div>
    </div>

    <script>
        // Save file function
        function saveFile() {
            const textAreaContent = document.querySelector(".text-area").innerText;
            const blob = new Blob([textAreaContent], { type: "text/plain" });
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "wordstar_document.txt";
            link.click();
        }

        // Load file function
        function loadFile(event) {
            const file = event.target.files[0];
            const reader = new FileReader();
            reader.onload = function(e) {
                document.querySelector(".text-area").innerText = e.target.result;
            };
            reader.readAsText(file);
        }

        // Word Count function
        function wordCount() {
            const text = document.querySelector(".text-area").innerText;
            const words = text.split(/\s+/).filter(word => word.length > 0);
            alert("Word Count: " + words.length);
        }

        // Attach event listeners for the buttons
        document.addEventListener("DOMContentLoaded", function() {
            document.querySelector(".function-box:nth-child(1)").addEventListener("click", saveFile);

            const fileInput = document.createElement("input");
            fileInput.type = "file";
            fileInput.style.display = "none";
            document.body.appendChild(fileInput);

            fileInput.addEventListener("change", loadFile);
            document.querySelector(".function-box:nth-child(2)").addEventListener("click", () => fileInput.click());

            document.querySelector(".function-box:nth-child(3)").addEventListener("click", wordCount);
        });

        // Keyboard shortcuts
        document.addEventListener("keydown", function(event) {
            if (event.ctrlKey && event.key === 's') {
                event.preventDefault();
                saveFile();
            } else if (event.ctrlKey && event.key === 'o') {
                event.preventDefault();
                document.querySelector(".function-box:nth-child(2)").click();
            } else if (event.ctrlKey && event.key === 'w') {
                event.preventDefault();
                wordCount();
            }
        });
    </script>
</body>
</html>
