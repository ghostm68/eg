<!DOCTYPE html>
<html>
<head>
  <title>Embeddings Display</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f4f4;
      margin: 20px;
    }

    #embedding-response {
      background-color: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    h2 {
      color: #333;
      margin-bottom: 20px;
    }

    h3 {
      color: #555;
      margin-bottom: 10px;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      margin-bottom: 10px;
    }

    .token-wrapper {
      margin-bottom: 10px;
      padding: 10px;
      background-color: #f9f9f9;
      border-radius: 5px;
    }

    .token {
      display: inline-block;
      padding: 5px 10px;
      border: 1px solid #ccc;
      border-radius: 3px;
      margin-right: 5px;
    }

    .leading-space {
      background-color: #e0f2ff; /* Light blue */
    }

    .trailing-space {
      background-color: #ffe0e0; /* Light coral */
    }
  </style>
</head>
<body>
  <div id="embedding-response">
    <h2>Tokenized Embeddings</h2>
    <ul id="tokens-list"></ul>
  </div>

  <script>
    const tokensList = document.getElementById('tokens-list');

    // Fetch the embeddings from the Jina API
    fetch('https://api.jina.ai/v1/embeddings', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer jina_143d0fc2e11c4eef8717d57fe10861a9f8eq1NdDmQ4GF371ovYmGg-cJUlT' 
      },
      body: JSON.stringify({
        "model": "jina-embeddings-v2-base-en",
        "normalized": true,
        "embedding_type": "base64",
        "input": [
          "well, he had no idea and the  refrain from a once upon a time heard social media sensation rang out like it did at the  height of pleasure which now felt a lifetime ago; too much booty in the pants.  ii  luck lingered but did not last. the next day, at work, having disregarded all alerts, his  superiors burdened him with a task which kept him glued to his chair for the better  part of the day.  He organized the impossibly scattered data and put together a plan. I'll have this by lunch time. He weighed. At lunch time he was knee deep into a puzzle of his own creation caused by trying to put place the data into an existing template... he spent the lunch hour and more deleting the template and then trying to automate a workflow that would do the job for him. his eyes felt like a trumpet player that had blown out a note so hard that the sockets had gone out of position...later in the confused afternoon, he turned to ai, which did the process in a few minutes with his prompts. viola, he exclaimed thrilled only to have the outcome baffle the agency server which  returned error data not rendered... feeling insecure, he turned to  a second ai but ran out of credits to complete the questions that could solve his situation. six oclock, seven oclock, eight oclock, was it 2036... the folders and files rifled through so many times he was dizzy, his eyes certainly felt as if gilepsie... he had even forgot who he was... then suddenly, he recalled a similar case from 2019, employing that template the server finally  rendered the data.  iii  the phone rang, early the following morning. the ex... her words, all at once expressing domination within the desire to make him admit that she was the only  woman he could love...  \"yes, i do think about you - but it was your choice to leave - no, how could i  logically wait when you were gone - i'm not telling you if tallking to you is giving me an erection - i'm with her now -\"  as the door rang, he realized he wasn't with anyone, she  was not there now. Perhaps, it was her ringing...  a van filled the entrance, the driver sat as if in  meditation with a mantra only people who lived behind the wheel might understand - the two men with him stood facing  the portal -  we're here about the job -  he thought about his own employment-  a few hours later, as they left  he wondered about his new lover -  not a word since the beach...  she, on the other hand had  once and for all decided that  penetrataion was not for her,  how could it be, it's where  babies came into the world!  how could she look at her   child knowing that a penis  had paved the way, no - she  judged besides her best orgasms  were always before or after insertion...  in the afternoon they met at at  a newly opened bistro instead of  one of their usual places and her  newfound stance confronted his spirit now  feeling trampled by the three men  he had to deal with...  somehow instead of an any argument -  arrangements for just the tip  were signed but not until a few days  had passed... she wanted him to prove  that this wasn't merely an erotic fling. as he was about to ask for the fine  print on fingers, the waiter brought  the bill.   she reached for it with one hand, sliding her purse up from her lap with the other.  the sky held no hint of neither sunshine nor rain as it stood above them seemingly trying to make up its mind -  he was quicker, but the amount nearly shocked him. neural implant registered the vibration at nearly the same intensity as when he he had come across klein interviewing walz on an ipad in the office water cooler -  in the midst of daddy democrat and what appeared to him a reporter spreading some sort of lubricant in his shit hole and saying put it in me timothy...  what is it, she noticed - it says here, the daiquiris were thirty dollars each - he sighed -  they had both enjoyed a dozen of these concoctions during the course of their date not to mention the appetizers and main plates...  mentally counting the hard currency in his wallet, he quickly said, let's make a run for it and smiled seeing her clutch her handbag and start to  remove her heels - stopping at his giggle. no, no, it only means i  have to use my card -  the plastic came and went like a  condom that could probably be used again but who would really want to...  with an interest rate of twenty five percent while his savings earned only four percent, not him.   he stood letting her walk out ahead in order to see her booty smile at him, her blonde braid like an arrow pointing at it in case he lost his way...but he didn't lose and for a  few minutes he was even happy to  have spent the money, hell, he thought this is how walking should feel, no ukrainians or russians, no elections, no work, no workmen, no, not even exes.  the end",
          "You can send multiple texts",
          "Each text can be up to 8192 tokens long"
        ]
      })
    })
    .then(response => response.json())
    .then(data => {
      // Handle the API response and display the tokenized embeddings
      data.data.forEach((embedding, index) => {
        // Assume the embedding API returns space-separated tokens
        const tokens = embedding.embedding.split(' ');

        const listItem = document.createElement('li');
        listItem.classList.add('token-wrapper');

        tokens.forEach((token, tokenIndex) => {
          const tokenElement = document.createElement('span');
          tokenElement.classList.add('token');

          if (tokenIndex === 0 && token.startsWith(' ')) {
            tokenElement.classList.add('leading-space');
          }
          if (tokenIndex === tokens.length - 1 && token.endsWith(' ')) {
            tokenElement.classList.add('trailing-space');
          }
          tokenElement.textContent = token;
          listItem.appendChild(tokenElement);
        });

        tokensList.appendChild(listItem);
      });
    })
    .catch(error => {
      console.error('Error fetching embeddings:', error);
    });
  </script>
</body>
</html>
